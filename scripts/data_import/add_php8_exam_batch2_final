import sqlite3
import json

DB_NAME = "SemanticGrove.db"

def add_php8_exam_batch2_final():
    """PHP8è©¦é¨“å¯¾ç­–å•é¡Œè¿½åŠ ï¼ˆç¬¬2å¼¾ãƒ»æœ€çµ‚50å•ï¼‰"""
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    
    print("=" * 60)
    print("PHP8è©¦é¨“å¯¾ç­–å•é¡Œè¿½åŠ ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆç¬¬2å¼¾ãƒ»æœ€çµ‚50å•ï¼‰")
    print("=" * 60)
    
    questions = []
    
    # ==================== PHP8.0æ–°æ©Ÿèƒ½è©³ç´°ï¼ˆ15å•ï¼‰ ====================
    print("[1/4] PHP8.0æ–°æ©Ÿèƒ½è©³ç´°å•é¡Œã‚’ç”Ÿæˆä¸­...")
    
    php80_details = [
        ("matchã®å„caseã¯è‡ªå‹•ã§breakã•ã‚Œã‚‹ï¼Ÿ",
         [{"id":"A","text":"ã•ã‚Œã‚‹"},{"id":"B","text":"ã•ã‚Œãªã„"},{"id":"C","text":"æ˜ç¤ºçš„ã«å¿…è¦"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "3", 10, "fall-throughãªã—", "match break"),
        
        ("matchã§æ¡ä»¶ã«ä¸€è‡´ã—ãªã„å ´åˆã¯ï¼Ÿ",
         [{"id":"A","text":"UnhandledMatchErrorä¾‹å¤–"},{"id":"B","text":"nullè¿”å´"},{"id":"C","text":"falseè¿”å´"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼ãªã—"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "3", 12, "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¿…é ˆã¾ãŸã¯ä¾‹å¤–", "match error"),
        
        ("åå‰ä»˜ãå¼•æ•°ã§é †åºã‚’å¤‰ãˆã‚‰ã‚Œã‚‹ï¼Ÿ",
         [{"id":"A","text":"å¤‰ãˆã‚‰ã‚Œã‚‹"},{"id":"B","text":"å¤‰ãˆã‚‰ã‚Œãªã„"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"D","text":"ä¸€éƒ¨ã®ã¿"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "2", 8, "é †åºè‡ªç”±", "åå‰ä»˜ãå¼•æ•°é †åº"),
        
        ("Null Safeæ¼”ç®—å­ã§é…åˆ—ã‚¢ã‚¯ã‚»ã‚¹ã¯ï¼Ÿ",
         [{"id":"A","text":"?->ã®ã¿ã€é…åˆ—ã¯ä¸å¯"},{"id":"B","text":"é…åˆ—ã‚‚å¯èƒ½"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"D","text":"éæ¨å¥¨"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "3", 10, "ãƒ¡ã‚½ãƒƒãƒ‰ãƒ»ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ã¿", "?->åˆ¶é™"),
        
        ("Constructor property promotionã§ã®ã‚¢ã‚¯ã‚»ã‚¹ä¿®é£¾å­ã¯å¿…é ˆï¼Ÿ",
         [{"id":"A","text":"å¿…é ˆ"},{"id":"B","text":"çœç•¥å¯"},{"id":"C","text":"publicã®ã¿"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "3", 10, "ä¿®é£¾å­ã§åˆ¤å®š", "ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³æ¡ä»¶"),
        
        ("Unionå‹ã§é‡è¤‡ã—ãŸå‹ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"B","text":"è¨±å¯ã•ã‚Œã‚‹"},{"id":"C","text":"è­¦å‘Šã®ã¿"},{"id":"D","text":"ç„¡è¦–ã•ã‚Œã‚‹"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "3", 10, "é‡è¤‡ä¸å¯", "Unionå‹åˆ¶ç´„"),
        
        ("mixedå‹ã«nullã¯å«ã¾ã‚Œã‚‹ï¼Ÿ",
         [{"id":"A","text":"å«ã¾ã‚Œã‚‹"},{"id":"B","text":"å«ã¾ã‚Œãªã„"},{"id":"C","text":"æ˜ç¤ºçš„ã«å¿…è¦"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "2", 8, "null ã‚‚è¨±å¯", "mixedå‹"),
        
        ("Attributeã¯å®Ÿè¡Œæ™‚ã«å–å¾—ã§ãã‚‹ï¼Ÿ",
         [{"id":"A","text":"ã§ãã‚‹ï¼ˆReflectionçµŒç”±ï¼‰"},{"id":"B","text":"ã§ããªã„"},{"id":"C","text":"ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®ã¿"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "4", 15, "ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§å–å¾—", "Attributeå–å¾—"),
        
        ("Attributeã¯è¤‡æ•°ä»˜ä¸ã§ãã‚‹ï¼Ÿ",
         [{"id":"A","text":"ã§ãã‚‹"},{"id":"B","text":"1ã¤ã®ã¿"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"D","text":"éæ¨å¥¨"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "3", 10, "è¤‡æ•°å¯èƒ½", "è¤‡æ•°Attribute"),
        
        ("WeakMapã®ã‚­ãƒ¼ã«ä½¿ãˆã‚‹å‹ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã¿"},{"id":"B","text":"å…¨ã¦ã®å‹"},{"id":"C","text":"int, string"},{"id":"D","text":"é…åˆ—"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "4", 12, "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé™å®š", "WeakMapåˆ¶ç´„"),
        
        ("::classå®šæ•°ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚ä½¿ãˆã‚‹ï¼Ÿï¼ˆPHP 8.0+ï¼‰",
         [{"id":"A","text":"ä½¿ãˆã‚‹ï¼ˆ$obj::classï¼‰"},{"id":"B","text":"ä½¿ãˆãªã„"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"D","text":"éæ¨å¥¨"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "3", 10, "å‹•çš„ã‚¯ãƒ©ã‚¹åå–å¾—", "::class on objects"),
        
        ("catch (Exception)ã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿çœç•¥å¯èƒ½ï¼Ÿï¼ˆPHP 8.0+ï¼‰",
         [{"id":"A","text":"å¯èƒ½"},{"id":"B","text":"ä¸å¯èƒ½"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"D","text":"éæ¨å¥¨"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "2", 8, "å¤‰æ•°ä¸è¦ãªã‚‰çœç•¥", "catchçœç•¥"),
        
        ("trailing commaï¼ˆæœ«å°¾ã‚«ãƒ³ãƒï¼‰ã¯é–¢æ•°å‘¼ã³å‡ºã—ã§ä½¿ãˆã‚‹ï¼Ÿï¼ˆPHP 8.0+ï¼‰",
         [{"id":"A","text":"ä½¿ãˆã‚‹"},{"id":"B","text":"ä½¿ãˆãªã„"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"D","text":"éæ¨å¥¨"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "2", 8, "å¼•æ•°ãƒªã‚¹ãƒˆã§å¯èƒ½", "trailing comma"),
        
        ("Stringableã¯æš—é»™çš„ã«å®Ÿè£…ã•ã‚Œã‚‹ï¼Ÿ",
         [{"id":"A","text":"__toString()ãŒã‚ã‚Œã°è‡ªå‹•"},{"id":"B","text":"æ˜ç¤ºçš„ã«å¿…è¦"},{"id":"C","text":"å®Ÿè£…ä¸å¯"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "3", 12, "è‡ªå‹•å®Ÿè£…", "Stringableè‡ªå‹•"),
        
        ("éã‚­ãƒ£ãƒ—ãƒãƒ£catchã¯ä¾‹å¤–ã‚’ã‚­ãƒ£ãƒƒãƒã™ã‚‹ï¼Ÿï¼ˆPHP 8.0+ï¼‰",
         [{"id":"A","text":"ã‚­ãƒ£ãƒƒãƒã™ã‚‹ãŒå¤‰æ•°ã«å…¥ã‚Œãªã„"},{"id":"B","text":"ã‚­ãƒ£ãƒƒãƒã—ãªã„"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"D","text":"éæ¨å¥¨"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.0è©³ç´°", "3", 10, "ä¾‹å¤–å‡¦ç†ã®ã¿", "non-capturing catch"),
    ]
    
    questions.extend(php80_details)
    print(f"  âœ“ PHP8.0æ–°æ©Ÿèƒ½è©³ç´°: {len(php80_details)}å•")
    
    # ==================== PHP8.1æ–°æ©Ÿèƒ½ï¼ˆ15å•ï¼‰ ====================
    print("[2/4] PHP8.1æ–°æ©Ÿèƒ½å•é¡Œã‚’ç”Ÿæˆä¸­...")
    
    php81_features = [
        ("Pure Enumã¯ä½•ã‚’ç¶™æ‰¿ã™ã‚‹ï¼Ÿ",
         [{"id":"A","text":"ä½•ã‚‚ç¶™æ‰¿ã—ãªã„"},{"id":"B","text":"stdClass"},{"id":"C","text":"Enumã‚¯ãƒ©ã‚¹"},{"id":"D","text":"Object"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "3", 10, "ç‹¬ç«‹ã—ãŸå‹", "Pure Enumç¶™æ‰¿"),
        
        ("Backed Enumã§ä½¿ãˆã‚‹å‹ã¯ï¼Ÿ",
         [{"id":"A","text":"int ã¾ãŸã¯ string"},{"id":"B","text":"å…¨ã¦ã®å‹"},{"id":"C","text":"int ã®ã¿"},{"id":"D","text":"string ã®ã¿"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "3", 10, "ã‚¹ã‚«ãƒ©ãƒ¼å‹ã®ã¿", "Backedå‹åˆ¶é™"),
        
        ("Enumã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã§ãã‚‹ï¼Ÿ",
         [{"id":"A","text":"ã§ãã‚‹"},{"id":"B","text":"ã§ããªã„"},{"id":"C","text":"Pure Enumã®ã¿"},{"id":"D","text":"Backed Enumã®ã¿"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "3", 12, "implementså¯èƒ½", "Enumã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹"),
        
        ("readonlyãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯åˆæœŸåŒ–ã•ã‚Œãªã„ã¨ã©ã†ãªã‚‹ï¼Ÿ",
         [{"id":"A","text":"ã‚¨ãƒ©ãƒ¼ï¼ˆã‚¢ã‚¯ã‚»ã‚¹æ™‚ï¼‰"},{"id":"B","text":"null"},{"id":"C","text":"0"},{"id":"D","text":"è­¦å‘Šã®ã¿"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "3", 10, "æœªåˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼", "readonlyæœªåˆæœŸåŒ–"),
        
        ("readonlyãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯unset()ã§ãã‚‹ï¼Ÿ",
         [{"id":"A","text":"ã§ããªã„"},{"id":"B","text":"ã§ãã‚‹"},{"id":"C","text":"æ¡ä»¶æ¬¡ç¬¬"},{"id":"D","text":"è­¦å‘Šã®ã¿"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "3", 10, "å‰Šé™¤ä¸å¯", "readonly unset"),
        
        ("Intersectionå‹ã®æ›¸ãæ–¹ã¯ï¼Ÿ",
         [{"id":"A","text":"A&B"},{"id":"B","text":"A|B"},{"id":"C","text":"A,B"},{"id":"D","text":"A and B"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "3", 10, "ã‚¢ãƒ³ãƒ‘ã‚µãƒ³ãƒ‰", "Intersectionæ§‹æ–‡"),
        
        ("First-class callable: strlen(...) ã®å‹ã¯ï¼Ÿ",
         [{"id":"A","text":"Closure"},{"id":"B","text":"string"},{"id":"C","text":"callable"},{"id":"D","text":"function"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "3", 12, "Closureã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ", "callableå‹"),
        
        ("new in initializersã§ä½¿ãˆãªã„å ´æ‰€ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¯ãƒ©ã‚¹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åˆæœŸåŒ–"},{"id":"B","text":"é–¢æ•°ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°"},{"id":"C","text":"Attributeå¼•æ•°"},{"id":"D","text":"å…¨ã¦ä½¿ãˆã‚‹"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "4", 15, "ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ä¸å¯", "newåˆ¶é™"),
        
        ("Final class constantsã¯å†ä»£å…¥ã§ãã‚‹ï¼Ÿ",
         [{"id":"A","text":"ã§ããªã„"},{"id":"B","text":"ã§ãã‚‹"},{"id":"C","text":"ã‚¯ãƒ©ã‚¹å†…ã®ã¿"},{"id":"D","text":"è­¦å‘Šã®ã¿"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "2", 8, "å®šæ•°ã¯å…ƒã€…ä¸å¤‰", "final constç‰¹æ€§"),
        
        ("Fiberã®å®Ÿè¡Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¯ç‹¬ç«‹ï¼Ÿ",
         [{"id":"A","text":"ç‹¬ç«‹ã—ã¦ã„ã‚‹"},{"id":"B","text":"å…±æœ‰ã•ã‚Œã‚‹"},{"id":"C","text":"ä¸€éƒ¨å…±æœ‰"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "4", 15, "ç‹¬è‡ªã‚¹ã‚¿ãƒƒã‚¯", "Fiberã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ"),
        
        ("é…åˆ—ã®unpackingï¼ˆ...ï¼‰ã§æ–‡å­—åˆ—ã‚­ãƒ¼ã¯ä½¿ãˆã‚‹ï¼Ÿï¼ˆPHP 8.1+ï¼‰",
         [{"id":"A","text":"ä½¿ãˆã‚‹"},{"id":"B","text":"ä½¿ãˆãªã„"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"D","text":"æ•°å€¤ã®ã¿"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "3", 10, "é€£æƒ³é…åˆ—å¯¾å¿œ", "é…åˆ—unpacking"),
        
        ("neverå‹ã®é–¢æ•°å†…ã§returnã¯ï¼Ÿ",
         [{"id":"A","text":"ä½¿ãˆãªã„"},{"id":"B","text":"ä½¿ãˆã‚‹"},{"id":"C","text":"null ã®ã¿"},{"id":"D","text":"è­¦å‘Šã®ã¿"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "3", 12, "åˆ¶å¾¡ãŒæˆ»ã‚‰ãªã„", "neveråˆ¶ç´„"),
        
        ("Octalæ•°å€¤ãƒªãƒ†ãƒ©ãƒ«ã®æ–°ã—ã„æ›¸ãæ–¹ã¯ï¼Ÿï¼ˆPHP 8.1+ï¼‰",
         [{"id":"A","text":"0o123"},{"id":"B","text":"0123"},{"id":"C","text":"o123"},{"id":"D","text":"8#123"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "2", 8, "æ˜ç¤ºçš„ãª8é€²æ•°", "octal literal"),
        
        ("fsync(), fdatasync()ã¯ä½•ã®ãŸã‚ï¼Ÿï¼ˆPHP 8.1+ï¼‰",
         [{"id":"A","text":"ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸ"},{"id":"B","text":"ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿"},{"id":"C","text":"ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤"},{"id":"D","text":"ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "3", 10, "ãƒ‡ã‚£ã‚¹ã‚¯æ›¸ãè¾¼ã¿ä¿è¨¼", "fsync"),
        
        ("array_is_list()ã®å½¹å‰²ã¯ï¼Ÿï¼ˆPHP 8.1+ï¼‰",
         [{"id":"A","text":"0ã‹ã‚‰é€£ç•ªã‚­ãƒ¼ã‹åˆ¤å®š"},{"id":"B","text":"é…åˆ—ã‹åˆ¤å®š"},{"id":"C","text":"ç©ºé…åˆ—ã‹åˆ¤å®š"},{"id":"D","text":"ã‚½ãƒ¼ãƒˆæ¸ˆã¿ã‹åˆ¤å®š"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.1æ–°æ©Ÿèƒ½", "2", 8, "ãƒªã‚¹ãƒˆåˆ¤å®š", "array_is_list"),
    ]
    
    questions.extend(php81_features)
    print(f"  âœ“ PHP8.1æ–°æ©Ÿèƒ½: {len(php81_features)}å•")
    
    # ==================== PHP8.2æ–°æ©Ÿèƒ½ï¼ˆ10å•ï¼‰ ====================
    print("[3/4] PHP8.2æ–°æ©Ÿèƒ½å•é¡Œã‚’ç”Ÿæˆä¸­...")
    
    php82_features = [
        ("readonly classã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯è‡ªå‹•çš„ã«ï¼Ÿ",
         [{"id":"A","text":"readonly ã«ãªã‚‹"},{"id":"B","text":"public ã«ãªã‚‹"},{"id":"C","text":"private ã«ãªã‚‹"},{"id":"D","text":"å¤‰æ›´ãªã—"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.2æ–°æ©Ÿèƒ½", "3", 10, "ã‚¯ãƒ©ã‚¹ãƒ¬ãƒ™ãƒ«å®£è¨€", "readonly classåŠ¹æœ"),
        
        ("readonly classã¯ç¶™æ‰¿ã§ãã‚‹ï¼Ÿ",
         [{"id":"A","text":"ã§ãã‚‹ï¼ˆå­ã‚‚readonlyï¼‰"},{"id":"B","text":"ã§ããªã„"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"D","text":"è­¦å‘Šã®ã¿"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.2æ–°æ©Ÿèƒ½", "3", 12, "åˆ¶ç´„ãŒç¶™æ‰¿", "readonlyç¶™æ‰¿"),
        
        ("DNFå‹ï¼ˆé¸è¨€æ¨™æº–å½¢ï¼‰ã®ä¾‹ã¯ï¼Ÿ",
         [{"id":"A","text":"(A&B)|(C&D)"},{"id":"B","text":"A|B|C|D"},{"id":"C","text":"A&B&C&D"},{"id":"D","text":"A or B"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.2æ–°æ©Ÿèƒ½", "4", 15, "Intersectionã®Union", "DNFæ§‹æ–‡"),
        
        ("trueå‹ã¨falseå‹ã®ä½µç”¨ã¯ï¼Ÿ",
         [{"id":"A","text":"true|false ã§ boolç›¸å½“"},{"id":"B","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"C","text":"ä½¿ãˆãªã„"},{"id":"D","text":"éæ¨å¥¨"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.2æ–°æ©Ÿèƒ½", "3", 10, "boolå‹ã®ä»£æ›¿", "true|false"),
        
        ("å®šæ•°å†…ã§ã®å‹•çš„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¢ã‚¯ã‚»ã‚¹ã¯ï¼Ÿï¼ˆPHP 8.2ï¼‰",
         [{"id":"A","text":"éæ¨å¥¨"},{"id":"B","text":"æ¨å¥¨"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼"},{"id":"D","text":"å¤‰æ›´ãªã—"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.2æ–°æ©Ÿèƒ½", "3", 12, "å‹•çš„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£éæ¨å¥¨", "dynamic property"),
        
        ("#[\\AllowDynamicProperties]ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"å‹•çš„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨±å¯"},{"id":"B","text":"å‹•çš„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç¦æ­¢"},{"id":"C","text":"å‹ãƒã‚§ãƒƒã‚¯"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.2æ–°æ©Ÿèƒ½", "4", 15, "éæ¨å¥¨ã‚’å›é¿", "AllowDynamicProperties"),
        
        ("random_int()ã®æ”¹å–„ç‚¹ã¯ï¼Ÿï¼ˆPHP 8.2+ï¼‰",
         [{"id":"A","text":"ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š"},{"id":"B","text":"æ§‹æ–‡å¤‰æ›´"},{"id":"C","text":"éæ¨å¥¨"},{"id":"D","text":"å¤‰æ›´ãªã—"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.2æ–°æ©Ÿèƒ½", "2", 8, "ä¹±æ•°ç”Ÿæˆé«˜é€ŸåŒ–", "randomæ”¹å–„"),
        
        ("MySQLiå®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¤‰æ›´ã¯ï¼Ÿï¼ˆPHP 8.2ï¼‰",
         [{"id":"A","text":"ä¾‹å¤–ãƒ¢ãƒ¼ãƒ‰ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ"},{"id":"B","text":"ã‚¨ãƒ©ãƒ¼ãƒ¢ãƒ¼ãƒ‰"},{"id":"C","text":"ã‚µã‚¤ãƒ¬ãƒ³ãƒˆãƒ¢ãƒ¼ãƒ‰"},{"id":"D","text":"å¤‰æ›´ãªã—"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.2æ–°æ©Ÿèƒ½", "3", 12, "ä¾‹å¤–ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåŒ–", "mysqliä¾‹å¤–"),
        
        ("Sensitive parameter attribute ã¨ã¯ï¼Ÿï¼ˆPHP 8.2ï¼‰",
         [{"id":"A","text":"#[\\SensitiveParameter]ã§ãƒ­ã‚°ç§˜åŒ¿"},{"id":"B","text":"å‹ãƒã‚§ãƒƒã‚¯"},{"id":"C","text":"ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.2æ–°æ©Ÿèƒ½", "4", 15, "æ©Ÿå¯†æƒ…å ±ä¿è­·", "SensitiveParameter"),
        
        ("ini_parse_quantity()ã®å½¹å‰²ã¯ï¼Ÿï¼ˆPHP 8.2+ï¼‰",
         [{"id":"A","text":"INIå€¤ï¼ˆK,M,Gï¼‰ã‚’æ•°å€¤å¤‰æ›"},{"id":"B","text":"INIèª­ã¿è¾¼ã¿"},{"id":"C","text":"INIæ›¸ãè¾¼ã¿"},{"id":"D","text":"INIæ¤œè¨¼"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_8.2æ–°æ©Ÿèƒ½", "3", 10, "ã‚µã‚¤ã‚ºå˜ä½å¤‰æ›", "ini_parse_quantity"),
    ]
    
    questions.extend(php82_features)
    print(f"  âœ“ PHP8.2æ–°æ©Ÿèƒ½: {len(php82_features)}å•")
    
    # ==================== å®Ÿè·µçš„ãªPHP8ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆ10å•ï¼‰ ====================
    print("[4/4] å®Ÿè·µçš„ãªPHP8ãƒ‘ã‚¿ãƒ¼ãƒ³å•é¡Œã‚’ç”Ÿæˆä¸­...")
    
    practical_patterns = [
        ("DTOã§readonly classã‚’ä½¿ã†åˆ©ç‚¹ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªãƒ‡ãƒ¼ã‚¿ä¿è¨¼"},{"id":"B","text":"é«˜é€ŸåŒ–"},{"id":"C","text":"ãƒ¡ãƒ¢ãƒªç¯€ç´„"},{"id":"D","text":"å¿…é ˆæ©Ÿèƒ½"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_å®Ÿè·µ", "3", 12, "ãƒ‡ãƒ¼ã‚¿è»¢é€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ", "DTO pattern"),
        
        ("Enumã‚’ä½¿ã†ã¹ãå ´é¢ã¯ï¼Ÿ",
         [{"id":"A","text":"å›ºå®šã•ã‚ŒãŸé¸æŠè‚¢"},{"id":"B","text":"å‹•çš„ãªå€¤"},{"id":"C","text":"å¤§é‡ã®ãƒ‡ãƒ¼ã‚¿"},{"id":"D","text":"é »ç¹ã«å¤‰æ›´"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_å®Ÿè·µ", "3", 10, "çŠ¶æ…‹ãƒ»ã‚¿ã‚¤ãƒ—ã®å®šç¾©", "Enumæ´»ç”¨"),
        
        ("Attributeã®ä¸€èˆ¬çš„ãªç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³"},{"id":"B","text":"å‹ãƒã‚§ãƒƒã‚¯"},{"id":"C","text":"æš—å·åŒ–"},{"id":"D","text":"åœ§ç¸®"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_å®Ÿè·µ", "3", 12, "ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿é§†å‹•", "Attributeç”¨é€”"),
        
        ("matchã‚’ä½¿ã†ã¹ãå ´é¢ã¯ï¼Ÿ",
         [{"id":"A","text":"å€¤ã‚’è¿”ã™åˆ†å²"},{"id":"B","text":"è¤‡é›‘ãªæ¡ä»¶"},{"id":"C","text":"ãƒ«ãƒ¼ãƒ—"},{"id":"D","text":"ä¾‹å¤–å‡¦ç†"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_å®Ÿè·µ", "3", 10, "å¼ã¨ã—ã¦ã®åˆ†å²", "matchæ´»ç”¨"),
        
        ("Null Safeæ¼”ç®—å­ã®é©åˆ‡ãªä½¿ç”¨ä¾‹ã¯ï¼Ÿ",
         [{"id":"A","text":"$user?->getAddress()?->getCity()"},{"id":"B","text":"$arr?->[0]"},{"id":"C","text":"$str?->length"},{"id":"D","text":"$num?->value"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_å®Ÿè·µ", "3", 12, "ãƒã‚§ãƒ¼ãƒ³ã§nullå®‰å…¨", "?->æ´»ç”¨"),
        
        ("Unionå‹ã‚’é¿ã‘ã‚‹ã¹ãå ´é¢ã¯ï¼Ÿ",
         [{"id":"A","text":"å‹ãŒå¤šã™ãã‚‹æ™‚"},{"id":"B","text":"2-3ç¨®é¡ã®å‹"},{"id":"C","text":"nullè¨±å¯"},{"id":"D","text":"å¸¸ã«é¿ã‘ã‚‹"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_å®Ÿè·µ", "3", 10, "éåº¦ãªè¤‡é›‘æ€§å›é¿", "Unionå‹åˆ¶é™"),
        
        ("Constructor property promotionã®ãƒ¡ãƒªãƒƒãƒˆã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆå‰Šæ¸›"},{"id":"B","text":"é«˜é€ŸåŒ–"},{"id":"C","text":"å‹å®‰å…¨"},{"id":"D","text":"å¿…é ˆæ©Ÿèƒ½"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_å®Ÿè·µ", "2", 8, "ã‚³ãƒ¼ãƒ‰ç°¡æ½”åŒ–", "ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³åˆ©ç‚¹"),
        
        ("åå‰ä»˜ãå¼•æ•°ã‚’ä½¿ã†ã¹ãå ´é¢ã¯ï¼Ÿ",
         [{"id":"A","text":"å¤šæ•°ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³å¼•æ•°"},{"id":"B","text":"1-2å€‹ã®å¼•æ•°"},{"id":"C","text":"å¿…é ˆå¼•æ•°ã®ã¿"},{"id":"D","text":"ä½¿ã‚ãªã„"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_å®Ÿè·µ", "2", 8, "å¯èª­æ€§å‘ä¸Š", "åå‰ä»˜ãå¼•æ•°æ´»ç”¨"),
        
        ("Fiberã®é©åˆ‡ãªä½¿ç”¨ä¾‹ã¯ï¼Ÿ",
         [{"id":"A","text":"éåŒæœŸã‚¿ã‚¹ã‚¯å‡¦ç†"},{"id":"B","text":"é€šå¸¸ã®é–¢æ•°"},{"id":"C","text":"ãƒ«ãƒ¼ãƒ—"},{"id":"D","text":"æ¡ä»¶åˆ†å²"}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_å®Ÿè·µ", "5", 18, "å”èª¿çš„ãƒãƒ«ãƒã‚¿ã‚¹ã‚¯", "Fiberæ´»ç”¨"),
        
        ("PHP8ã¸ã®ç§»è¡Œã§æœ€ã‚‚æ³¨æ„ã™ã¹ãç‚¹ã¯ï¼Ÿ",
         [{"id":"A","text":"å¾Œæ–¹äº’æ›æ€§ã®ç ´å£Šçš„å¤‰æ›´"},{"id":"B","text":"æ–°æ©Ÿèƒ½ã®å­¦ç¿’ã®ã¿"},{"id":"C","text":"é€Ÿåº¦ä½ä¸‹"},{"id":"D","text":"ãƒ¡ãƒ¢ãƒªå¢—åŠ "}],
         [0], "PHP8è©¦é¨“å¯¾ç­–_å®Ÿè·µ", "4", 15, "BC Breaksç¢ºèª", "ç§»è¡Œæ³¨æ„ç‚¹"),
    ]
    
    questions.extend(practical_patterns)
    print(f"  âœ“ å®Ÿè·µçš„ãªPHP8ãƒ‘ã‚¿ãƒ¼ãƒ³: {len(practical_patterns)}å•")
    
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æŒ¿å…¥
    print("\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ä¸­...")
    for q in questions:
        question_json = {
            "question": q[0],
            "options": q[1],
            "answer": q[2]
        }
        
        cursor.execute("""
            INSERT INTO questions 
            (language, question_json, category, difficulty, score, meaning, usage)
            VALUES (?, ?, ?, ?, ?, ?, ?)
        """, ("PHP", json.dumps(question_json, ensure_ascii=False), 
              q[3], q[4], q[5], q[6], q[7]))
    
    conn.commit()
    
    # çµ±è¨ˆè¡¨ç¤º
    cursor.execute("SELECT COUNT(*) FROM questions WHERE language = 'PHP'")
    php_count = cursor.fetchone()[0]
    
    cursor.execute("SELECT COUNT(*) FROM questions WHERE language = 'PHP' AND category LIKE 'PHP8è©¦é¨“å¯¾ç­–%'")
    php8_count = cursor.fetchone()[0]
    
    cursor.execute("""
        SELECT category, COUNT(*) as count 
        FROM questions 
        WHERE language = 'PHP' AND category LIKE 'PHP8è©¦é¨“å¯¾ç­–%'
        GROUP BY category 
        ORDER BY count DESC
    """)
    php8_categories = cursor.fetchall()
    
    cursor.execute("SELECT COUNT(*) FROM questions")
    total_count = cursor.fetchone()[0]
    
    conn.close()
    
    print("\n" + "=" * 60)
    print("ğŸŠğŸŠğŸŠ PHP8è©¦é¨“å¯¾ç­– 100å•é”æˆï¼ï¼ï¼ ğŸŠğŸŠğŸŠ")
    print("=" * 60)
    print(f"PHPå…¨å•é¡Œæ•°: {php_count}å•")
    print(f"  åŸºç¤å•é¡Œ: {php_count - php8_count}å•")
    print(f"  PHP8è©¦é¨“å¯¾ç­–: {php8_count}å•")
    print(f"å…¨ä½“å•é¡Œæ•°: {total_count}å•")
    
    print("\nã€PHP8è©¦é¨“å¯¾ç­–ã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³ã€‘")
    for cat, count in php8_categories:
        print(f"  {cat}: {count}å•")
    
    print("\n" + "=" * 60)
    print("âœ… PHP8è©¦é¨“å¯¾ç­– 100å•é”æˆï¼")
    print("âœ… PHPåˆè¨ˆ: 200å•è¶…ãˆï¼")
    print("\nã€å…¨ä½“é”æˆçŠ¶æ³ã€‘")
    print("  âœ… IQ: 500å•")
    print("  âœ… JavaScript: 104å•")
    print("  âœ… Python: 314å•ï¼ˆåŸºç¤114 + è©¦é¨“200ï¼‰")
    print("  âœ… PHP: 203å•ï¼ˆåŸºç¤103 + PHP8è©¦é¨“100ï¼‰")
    print("\n  ğŸ¯ ç·å•é¡Œæ•°: 1100å•è¶…ãˆï¼")
    print("=" * 60)

if __name__ == "__main__":
    add_php8_exam_batch2_final()