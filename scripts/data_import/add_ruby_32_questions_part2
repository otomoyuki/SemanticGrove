import sqlite3
import json

DB_NAME = "SemanticGrove.db"

def add_ruby_32_questions_part2():
    """Rubyå•é¡Œ32å•è¿½åŠ ï¼ˆç¬¬2å¼¾ï¼š48å•â†’80å•ï¼‰"""
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    
    print("=" * 60)
    print("Rubyå•é¡Œè¿½åŠ ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆç¬¬2å¼¾ï¼š32å•ï¼‰")
    print("=" * 60)
    
    questions = []
    
    # ==================== ã‚¯ãƒ©ã‚¹ãƒ»ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ï¼ˆ10å•ï¼‰ ====================
    print("[1/4] ã‚¯ãƒ©ã‚¹ãƒ»ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã‚’ç”Ÿæˆä¸­...")
    
    classes = [
        ("ã‚¯ãƒ©ã‚¹ã®å®šç¾©æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"class User ... end"},{"id":"B","text":"class User { ... }"},{"id":"C","text":"def class User: ..."},{"id":"D","text":"type User = class { ... }"}],
         [0], "ã‚¯ãƒ©ã‚¹", "1", 5, "ã‚¯ãƒ©ã‚¹å®£è¨€", "class"),
        
        ("ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"@name"},{"id":"B","text":"$name"},{"id":"C","text":"name"},{"id":"D","text":"this.name"}],
         [0], "ã‚¯ãƒ©ã‚¹", "2", 7, "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å±æ€§", "instance variable"),
        
        ("ã‚¯ãƒ©ã‚¹å¤‰æ•°ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"@@count"},{"id":"B","text":"@count"},{"id":"C","text":"$count"},{"id":"D","text":"static count"}],
         [0], "ã‚¯ãƒ©ã‚¹", "2", 7, "ã‚¯ãƒ©ã‚¹å…±æœ‰ã®å¤‰æ•°", "class variable"),
        
        ("initializeãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ï¼ˆåˆæœŸåŒ–å‡¦ç†ï¼‰"},{"id":"B","text":"ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿"},{"id":"C","text":"ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰"},{"id":"D","text":"ã‚»ãƒƒã‚¿ãƒ¼"}],
         [0], "ã‚¯ãƒ©ã‚¹", "2", 7, "ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆæ™‚ã®å‡¦ç†", "initialize"),
        
        ("attr_accessorã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚²ãƒƒã‚¿ãƒ¼ã¨ã‚»ãƒƒã‚¿ãƒ¼ã‚’è‡ªå‹•ç”Ÿæˆ"},{"id":"B","text":"ã‚²ãƒƒã‚¿ãƒ¼ã®ã¿ç”Ÿæˆ"},{"id":"C","text":"ã‚»ãƒƒã‚¿ãƒ¼ã®ã¿ç”Ÿæˆ"},{"id":"D","text":"å¤‰æ•°ã‚’å®šç¾©"}],
         [0], "ã‚¯ãƒ©ã‚¹", "2", 8, "ã‚¢ã‚¯ã‚»ã‚µã®è‡ªå‹•å®šç¾©", "attr_accessor"),
        
        ("attr_readerã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚²ãƒƒã‚¿ãƒ¼ã®ã¿ç”Ÿæˆï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰"},{"id":"B","text":"ã‚»ãƒƒã‚¿ãƒ¼ã®ã¿ç”Ÿæˆ"},{"id":"C","text":"ä¸¡æ–¹ç”Ÿæˆ"},{"id":"D","text":"å¤‰æ•°ã‚’å‰Šé™¤"}],
         [0], "ã‚¯ãƒ©ã‚¹", "2", 8, "èª­ã¿å–ã‚Šã‚¢ã‚¯ã‚»ã‚µ", "attr_reader"),
        
        ("ç¶™æ‰¿ã®è¨˜è¿°æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"class Admin < User"},{"id":"B","text":"class Admin extends User"},{"id":"C","text":"class Admin: User"},{"id":"D","text":"class Admin inherits User"}],
         [0], "ã‚¯ãƒ©ã‚¹", "2", 7, "è¦ªã‚¯ãƒ©ã‚¹ã®ç¶™æ‰¿", "inheritance"),
        
        ("superã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"è¦ªã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—"},{"id":"B","text":"ã‚¯ãƒ©ã‚¹å¤‰æ•°ã«ã‚¢ã‚¯ã‚»ã‚¹"},{"id":"C","text":"ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã«ã‚¢ã‚¯ã‚»ã‚¹"},{"id":"D","text":"ä¾‹å¤–ã‚’ç™ºç”Ÿ"}],
         [0], "ã‚¯ãƒ©ã‚¹", "3", 9, "è¦ªãƒ¡ã‚½ãƒƒãƒ‰ã®å‘¼ã³å‡ºã—", "super"),
        
        ("ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"def self.method_name"},{"id":"B","text":"static def method_name"},{"id":"C","text":"class def method_name"},{"id":"D","text":"def class.method_name"}],
         [0], "ã‚¯ãƒ©ã‚¹", "2", 8, "ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä¸è¦ã®ãƒ¡ã‚½ãƒƒãƒ‰", "class method"),
        
        ("privateãƒ¡ã‚½ãƒƒãƒ‰ã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¯ãƒ©ã‚¹å†…ã‹ã‚‰ã®ã¿å‘¼ã³å‡ºã—å¯èƒ½"},{"id":"B","text":"ã©ã“ã‹ã‚‰ã§ã‚‚å‘¼ã³å‡ºã—å¯èƒ½"},{"id":"C","text":"ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã‹ã‚‰ã®ã¿å¯èƒ½"},{"id":"D","text":"å‘¼ã³å‡ºã—ä¸å¯"}],
         [0], "ã‚¯ãƒ©ã‚¹", "2", 8, "éå…¬é–‹ãƒ¡ã‚½ãƒƒãƒ‰", "private"),
    ]
    
    questions.extend(classes)
    print(f"  âœ“ ã‚¯ãƒ©ã‚¹ãƒ»ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘: {len(classes)}å•")
    
    # ==================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»Mix-inï¼ˆ8å•ï¼‰ ====================
    print("[2/4] ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»Mix-inã‚’ç”Ÿæˆä¸­...")
    
    modules = [
        ("ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å®šç¾©æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"module MyModule ... end"},{"id":"B","text":"module MyModule { ... }"},{"id":"C","text":"namespace MyModule { ... }"},{"id":"D","text":"package MyModule { ... }"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "2", 7, "åå‰ç©ºé–“ã®ä½œæˆ", "module"),
        
        ("includeã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦è¿½åŠ "},{"id":"B","text":"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦è¿½åŠ "},{"id":"C","text":"ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿"},{"id":"D","text":"ç¶™æ‰¿"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "3", 9, "Mix-inï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼‰", "include"),
        
        ("extendã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦è¿½åŠ "},{"id":"B","text":"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦è¿½åŠ "},{"id":"C","text":"ç¶™æ‰¿"},{"id":"D","text":"ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "3", 9, "Mix-inï¼ˆã‚¯ãƒ©ã‚¹ï¼‰", "extend"),
        
        ("prependã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ¡ã‚½ãƒƒãƒ‰æ¢ç´¢é †ã‚’å¤‰æ›´ï¼ˆå…ˆé ­ã«æŒ¿å…¥ï¼‰"},{"id":"B","text":"includeã¨åŒã˜"},{"id":"C","text":"extendã¨åŒã˜"},{"id":"D","text":"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å‰Šé™¤"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "4", 11, "å„ªå…ˆé †ä½ã®å¤‰æ›´", "prepend"),
        
        ("requireã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"å¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ï¼ˆ1å›ã®ã¿ï¼‰"},{"id":"B","text":"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’Mix-in"},{"id":"C","text":"ã‚¯ãƒ©ã‚¹ã‚’ç¶™æ‰¿"},{"id":"D","text":"å¤‰æ•°ã‚’å®šç¾©"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "2", 7, "ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª­ã¿è¾¼ã¿", "require"),
        
        ("require_relativeã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ç›¸å¯¾ãƒ‘ã‚¹ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿"},{"id":"B","text":"çµ¶å¯¾ãƒ‘ã‚¹ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿"},{"id":"C","text":"URLã‹ã‚‰èª­ã¿è¾¼ã¿"},{"id":"D","text":"requireã¨åŒã˜"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "3", 9, "ç›¸å¯¾ãƒ‘ã‚¹èª­ã¿è¾¼ã¿", "require_relative"),
        
        ("åå‰ç©ºé–“ã®è§£æ±ºæ¼”ç®—å­ã¯ï¼Ÿ",
         [{"id":"A","text":"::ï¼ˆMyModule::MyClassï¼‰"},{"id":"B","text":".ï¼ˆMyModule.MyClassï¼‰"},{"id":"C","text":"->ï¼ˆMyModule->MyClassï¼‰"},{"id":"D","text":"/ï¼ˆMyModule/MyClassï¼‰"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "2", 7, "ã‚¹ã‚³ãƒ¼ãƒ—è§£æ±º", "scope resolution"),
        
        ("Enumerableãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"eachã‚’å®Ÿè£…ã™ã‚Œã°å¤šæ•°ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒä½¿ãˆã‚‹"},{"id":"B","text":"æ•°å€¤è¨ˆç®—ç”¨"},{"id":"C","text":"æ–‡å­—åˆ—å‡¦ç†ç”¨"},{"id":"D","text":"ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œç”¨"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "3", 10, "åå¾©å‡¦ç†ã®é›†åˆ", "Enumerable"),
    ]
    
    questions.extend(modules)
    print(f"  âœ“ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»Mix-in: {len(modules)}å•")
    
    # ==================== ãƒ–ãƒ­ãƒƒã‚¯ãƒ»ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ï¼ˆ8å•ï¼‰ ====================
    print("[3/4] ãƒ–ãƒ­ãƒƒã‚¯ãƒ»ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ç”Ÿæˆä¸­...")
    
    blocks = [
        ("ãƒ–ãƒ­ãƒƒã‚¯ã®åŸºæœ¬è¨˜æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"do ... end ã¾ãŸã¯ { ... }"},{"id":"B","text":"[ ... ]"},{"id":"C","text":"( ... )"},{"id":"D","text":"< ... >"}],
         [0], "ãƒ–ãƒ­ãƒƒã‚¯", "2", 7, "å‡¦ç†ã®ã‹ãŸã¾ã‚Š", "block"),
        
        ("ãƒ–ãƒ­ãƒƒã‚¯å¼•æ•°ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"{ |x| x * 2 }"},{"id":"B","text":"{ (x) => x * 2 }"},{"id":"C","text":"{ x -> x * 2 }"},{"id":"D","text":"{ x: x * 2 }"}],
         [0], "ãƒ–ãƒ­ãƒƒã‚¯", "2", 7, "ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å—ã‘å–ã‚Š", "block parameter"),
        
        ("yieldã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ–ãƒ­ãƒƒã‚¯ã‚’å®Ÿè¡Œ"},{"id":"B","text":"ãƒ¡ã‚½ãƒƒãƒ‰ã‚’çµ‚äº†"},{"id":"C","text":"ä¾‹å¤–ã‚’ç™ºç”Ÿ"},{"id":"D","text":"å€¤ã‚’è¿”ã™"}],
         [0], "ãƒ–ãƒ­ãƒƒã‚¯", "3", 9, "ãƒ–ãƒ­ãƒƒã‚¯ã®å‘¼ã³å‡ºã—", "yield"),
        
        ("block_given?ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ–ãƒ­ãƒƒã‚¯ãŒæ¸¡ã•ã‚ŒãŸã‹åˆ¤å®š"},{"id":"B","text":"ãƒ–ãƒ­ãƒƒã‚¯ã‚’å®Ÿè¡Œ"},{"id":"C","text":"ãƒ–ãƒ­ãƒƒã‚¯ã‚’å®šç¾©"},{"id":"D","text":"ãƒ–ãƒ­ãƒƒã‚¯ã‚’å‰Šé™¤"}],
         [0], "ãƒ–ãƒ­ãƒƒã‚¯", "3", 9, "ãƒ–ãƒ­ãƒƒã‚¯å­˜åœ¨ãƒã‚§ãƒƒã‚¯", "block_given?"),
        
        ("Procã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆã¯ï¼Ÿ",
         [{"id":"A","text":"proc = Proc.new { |x| x * 2 }"},{"id":"B","text":"proc = new Proc(x => x * 2)"},{"id":"C","text":"proc = lambda { |x| x * 2 }"},{"id":"D","text":"proc = function(x) { x * 2 }"}],
         [0], "ãƒ–ãƒ­ãƒƒã‚¯", "3", 10, "ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåŒ–", "Proc"),
        
        ("lambdaã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"å¼•æ•°ãƒã‚§ãƒƒã‚¯ãŒå³æ ¼ãƒ»returnã§æŠœã‘ã‚‹"},{"id":"B","text":"Procã¨å®Œå…¨ã«åŒã˜"},{"id":"C","text":"ä½¿ç”¨éæ¨å¥¨"},{"id":"D","text":"ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰å°‚ç”¨"}],
         [0], "ãƒ–ãƒ­ãƒƒã‚¯", "4", 11, "é–¢æ•°çš„ãªProc", "lambda"),
        
        ("->ï¼ˆã‚¹ã‚¿ãƒ–ãƒ©ãƒ ãƒ€ï¼‰ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"->(x) { x * 2 }"},{"id":"B","text":"lambda(x) { x * 2 }"},{"id":"C","text":"=> (x) { x * 2 }"},{"id":"D","text":"fn(x) { x * 2 }"}],
         [0], "ãƒ–ãƒ­ãƒƒã‚¯", "3", 9, "lambdaã®çŸ­ç¸®è¨˜æ³•", "stabby lambda"),
        
        ("callãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"Procã‚„Lambdaã‚’å®Ÿè¡Œ"},{"id":"B","text":"ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©"},{"id":"C","text":"ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆ"},{"id":"D","text":"ä¾‹å¤–ã‚’ç™ºç”Ÿ"}],
         [0], "ãƒ–ãƒ­ãƒƒã‚¯", "3", 9, "Proc/Lambdaã®å®Ÿè¡Œ", "call"),
    ]
    
    questions.extend(blocks)
    print(f"  âœ“ ãƒ–ãƒ­ãƒƒã‚¯ãƒ»ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿: {len(blocks)}å•")
    
    # ==================== ä¾‹å¤–å‡¦ç†ãƒ»ãã®ä»–ï¼ˆ6å•ï¼‰ ====================
    print("[4/4] ä¾‹å¤–å‡¦ç†ãƒ»ãã®ä»–ã‚’ç”Ÿæˆä¸­...")
    
    exceptions = [
        ("ä¾‹å¤–å‡¦ç†ã®åŸºæœ¬å½¢ã¯ï¼Ÿ",
         [{"id":"A","text":"begin ... rescue ... end"},{"id":"B","text":"try ... catch ... finally"},{"id":"C","text":"try ... except ... finally"},{"id":"D","text":"do ... rescue ... done"}],
         [0], "ä¾‹å¤–å‡¦ç†", "2", 8, "ã‚¨ãƒ©ãƒ¼å‡¦ç†", "rescue"),
        
        ("ç‰¹å®šã®ä¾‹å¤–ã‚’æ•æ‰ã™ã‚‹ã«ã¯ï¼Ÿ",
         [{"id":"A","text":"rescue ArgumentError => e"},{"id":"B","text":"catch ArgumentError as e"},{"id":"C","text":"except ArgumentError: e"},{"id":"D","text":"rescue (ArgumentError) e"}],
         [0], "ä¾‹å¤–å‡¦ç†", "3", 9, "ä¾‹å¤–ã®æŒ‡å®š", "specific rescue"),
        
        ("ensureã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ä¾‹å¤–ã®æœ‰ç„¡ã«é–¢ã‚ã‚‰ãšå¿…ãšå®Ÿè¡Œ"},{"id":"B","text":"ä¾‹å¤–ç™ºç”Ÿæ™‚ã®ã¿å®Ÿè¡Œ"},{"id":"C","text":"ä¾‹å¤–ãŒãªã„æ™‚ã®ã¿å®Ÿè¡Œ"},{"id":"D","text":"ä¾‹å¤–ã‚’å†ç™ºç”Ÿ"}],
         [0], "ä¾‹å¤–å‡¦ç†", "3", 9, "å¾Œå‡¦ç†ã®ä¿è¨¼", "ensure"),
        
        ("raiseã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ä¾‹å¤–ã‚’ç™ºç”Ÿã•ã›ã‚‹"},{"id":"B","text":"ä¾‹å¤–ã‚’æ•æ‰"},{"id":"C","text":"ä¾‹å¤–ã‚’ç„¡è¦–"},{"id":"D","text":"ä¾‹å¤–ã‚’ãƒ­ã‚°å‡ºåŠ›"}],
         [0], "ä¾‹å¤–å‡¦ç†", "2", 8, "ä¾‹å¤–ã®é€å‡º", "raise"),
        
        ("retryã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"beginç¯€ã‚’å†å®Ÿè¡Œ"},{"id":"B","text":"rescueç¯€ã‚’å†å®Ÿè¡Œ"},{"id":"C","text":"ensureç¯€ã‚’å†å®Ÿè¡Œ"},{"id":"D","text":"ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æœ€åˆã‹ã‚‰å†å®Ÿè¡Œ"}],
         [0], "ä¾‹å¤–å‡¦ç†", "4", 11, "å‡¦ç†ã®å†è©¦è¡Œ", "retry"),
        
        ("ãƒ¡ã‚¿ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®ä»£è¡¨ä¾‹ã¯ï¼Ÿ",
         [{"id":"A","text":"define_methodï¼ˆå‹•çš„ã«ãƒ¡ã‚½ãƒƒãƒ‰å®šç¾©ï¼‰"},{"id":"B","text":"defï¼ˆé€šå¸¸ã®ãƒ¡ã‚½ãƒƒãƒ‰å®šç¾©ï¼‰"},{"id":"C","text":"classï¼ˆã‚¯ãƒ©ã‚¹å®šç¾©ï¼‰"},{"id":"D","text":"moduleï¼ˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®šç¾©ï¼‰"}],
         [0], "ãƒ¡ã‚¿ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°", "4", 12, "ã‚³ãƒ¼ãƒ‰ã§ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ", "define_method"),
    ]
    
    questions.extend(exceptions)
    print(f"  âœ“ ä¾‹å¤–å‡¦ç†ãƒ»ãã®ä»–: {len(exceptions)}å•")
    
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æŒ¿å…¥
    print("\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ä¸­...")
    for q in questions:
        question_json = {
            "question": q[0],
            "options": q[1],
            "answer": q[2]
        }
        
        cursor.execute("""
            INSERT INTO questions 
            (language, question_json, category, difficulty, score, meaning, usage)
            VALUES (?, ?, ?, ?, ?, ?, ?)
        """, ("Ruby", json.dumps(question_json, ensure_ascii=False), 
              q[3], q[4], q[5], q[6], q[7]))
    
    conn.commit()
    
    # çµ±è¨ˆè¡¨ç¤º
    cursor.execute("SELECT COUNT(*) FROM questions WHERE language = 'Ruby'")
    ruby_count = cursor.fetchone()[0]
    
    cursor.execute("""
        SELECT category, COUNT(*) as count 
        FROM questions 
        WHERE language = 'Ruby' 
        GROUP BY category 
        ORDER BY count DESC
    """)
    categories = cursor.fetchall()
    
    cursor.execute("SELECT COUNT(*) FROM questions")
    total_count = cursor.fetchone()[0]
    
    conn.close()
    
    print("\n" + "=" * 60)
    print("ğŸŠğŸŠğŸŠ Rubyè¨€èª 80å•é”æˆï¼ï¼ï¼ ğŸŠğŸŠğŸŠ")
    print("=" * 60)
    print(f"Rubyå•é¡Œæ•°: 15å• â†’ {ruby_count}å•ï¼ˆ+65å•ï¼‰")
    print(f"å…¨ä½“å•é¡Œæ•°: {total_count}å•")
    
    print("\nã€Rubyã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³ã€‘")
    for cat, count in categories:
        print(f"  {cat}: {count}å•")
    
    print("\n" + "=" * 60)
    print("âœ…âœ…âœ… Phase 4 - ãƒ¢ãƒ€ãƒ³è¨€èª3æœ¬æŸ± å®Œå…¨é”æˆï¼ âœ…âœ…âœ…")
    print("\nã€Phase 4 é”æˆçŠ¶æ³ã€‘")
    print("  âœ… TypeScript: 80å• â† å®Œäº†ï¼")
    print("  âœ… Go: 80å• â† å®Œäº†ï¼")
    print(f"  âœ… Ruby: {ruby_count}å• â† å®Œäº†ï¼")
    print("\nã€å…¨ä½“é”æˆçŠ¶æ³ã€‘")
    print("  ğŸ¯ ä¸»è¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: Java(150), C#(150), Python(314), PHP(203)")
    print("  ğŸ¯ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: React(80), CSS(100), HTML(80), JS(104)")
    print("  ğŸ¯ ãƒ¢ãƒ€ãƒ³è¨€èª: TypeScript(80), Go(80), Ruby(80)")
    print(f"\n  ğŸ“Š ç·å•é¡Œæ•°: {total_count}å•")
    print(f"  ğŸ¯ ç›®æ¨™2,000å•ã¾ã§æ®‹ã‚Š: ç´„{2000 - total_count}å•")
    print("\nã€æ¬¡ã®ç›®æ¨™å€™è£œã€‘")
    print("  Option A: ãƒã‚¤ãƒŠãƒ¼è¨€èªå¼·åŒ–")
    print("    â€¢ VBA: 10å• â†’ 50å•ï¼ˆ+40å•ï¼‰")
    print("    â€¢ COBOL: 15å• â†’ 50å•ï¼ˆ+35å•ï¼‰")
    print("  Option B: ä¸»è¦è¨€èªã‚’ã•ã‚‰ã«å……å®Ÿ")
    print("    â€¢ JavaScript: 104å• â†’ 150å•ï¼ˆ+46å•ï¼‰")
    print("    â€¢ React: 80å• â†’ 100å•ï¼ˆ+20å•ï¼‰")
    print("=" * 60)

if __name__ == "__main__":
    add_ruby_32_questions_part2()