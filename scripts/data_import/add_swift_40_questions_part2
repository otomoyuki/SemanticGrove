import sqlite3
import json

DB_NAME = "SemanticGrove.db"

def add_swift_40_questions_part2():
    """Swiftå•é¡Œ40å•è¿½åŠ ï¼ˆç¬¬2å¼¾ï¼š40å•â†’80å•ï¼‰"""
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    
    print("=" * 60)
    print("Swiftå•é¡Œè¿½åŠ ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆç¬¬2å¼¾ï¼š40å•ï¼‰")
    print("=" * 60)
    
    questions = []
    
    # ==================== ã‚¯ãƒ©ã‚¹ãƒ»æ§‹é€ ä½“ï¼ˆ10å•ï¼‰ ====================
    print("[1/4] ã‚¯ãƒ©ã‚¹ãƒ»æ§‹é€ ä½“ã‚’ç”Ÿæˆä¸­...")
    
    classes_structs = [
        ("æ§‹é€ ä½“ã®å®šç¾©æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"struct Person { var name: String }"},{"id":"B","text":"class Person { var name: String }"},{"id":"C","text":"type Person = { name: String }"},{"id":"D","text":"object Person { name: String }"}],
         [0], "æ§‹é€ ä½“", "2", 7, "å€¤å‹ã®å®šç¾©", "struct"),
        
        ("ã‚¯ãƒ©ã‚¹ã®å®šç¾©æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"class Person { var name: String }"},{"id":"B","text":"struct Person { var name: String }"},{"id":"C","text":"type Person = class { name: String }"},{"id":"D","text":"object Person { name: String }"}],
         [0], "ã‚¯ãƒ©ã‚¹", "2", 7, "å‚ç…§å‹ã®å®šç¾©", "class"),
        
        ("æ§‹é€ ä½“ã¨ã‚¯ãƒ©ã‚¹ã®é•ã„ã¯ï¼Ÿ",
         [{"id":"A","text":"æ§‹é€ ä½“ã¯å€¤å‹ã€ã‚¯ãƒ©ã‚¹ã¯å‚ç…§å‹"},{"id":"B","text":"æ§‹é€ ä½“ã¯å‚ç…§å‹ã€ã‚¯ãƒ©ã‚¹ã¯å€¤å‹"},{"id":"C","text":"åŒã˜"},{"id":"D","text":"æ§‹é€ ä½“ã¯ç¶™æ‰¿å¯èƒ½"}],
         [0], "ã‚¯ãƒ©ã‚¹ãƒ»æ§‹é€ ä½“", "3", 10, "å€¤å‹vså‚ç…§å‹", "struct vs class"),
        
        ("ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"init(name: String) { self.name = name }"},{"id":"B","text":"constructor(name: String) { ... }"},{"id":"C","text":"func init(name: String) { ... }"},{"id":"D","text":"new(name: String) { ... }"}],
         [0], "ã‚¯ãƒ©ã‚¹ãƒ»æ§‹é€ ä½“", "2", 7, "åˆæœŸåŒ–å‡¦ç†", "init"),
        
        ("ãƒ‡ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"deinit { ... }"},{"id":"B","text":"destructor { ... }"},{"id":"C","text":"~ClassName() { ... }"},{"id":"D","text":"finalize() { ... }"}],
         [0], "ã‚¯ãƒ©ã‚¹", "3", 9, "è§£æ”¾å‡¦ç†", "deinit"),
        
        ("è¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"var fullName: String { return firstName + lastName }"},{"id":"B","text":"var fullName = firstName + lastName"},{"id":"C","text":"func fullName() -> String { ... }"},{"id":"D","text":"property fullName { ... }"}],
         [0], "ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£", "3", 9, "å‹•çš„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£", "computed property"),
        
        ("ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ¼willSetã¯ï¼Ÿ",
         [{"id":"A","text":"å€¤ãŒè¨­å®šã•ã‚Œã‚‹ç›´å‰ã«å‘¼ã°ã‚Œã‚‹"},{"id":"B","text":"å€¤ãŒè¨­å®šã•ã‚ŒãŸç›´å¾Œ"},{"id":"C","text":"å€¤ãŒå–å¾—ã•ã‚ŒãŸã¨ã"},{"id":"D","text":"å€¤ãŒå‰Šé™¤ã•ã‚ŒãŸã¨ã"}],
         [0], "ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£", "3", 9, "è¨­å®šå‰ã®ç›£è¦–", "willSet"),
        
        ("ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ¼didSetã¯ï¼Ÿ",
         [{"id":"A","text":"å€¤ãŒè¨­å®šã•ã‚ŒãŸç›´å¾Œã«å‘¼ã°ã‚Œã‚‹"},{"id":"B","text":"å€¤ãŒè¨­å®šã•ã‚Œã‚‹ç›´å‰"},{"id":"C","text":"å€¤ãŒå–å¾—ã•ã‚ŒãŸã¨ã"},{"id":"D","text":"å€¤ãŒå‰Šé™¤ã•ã‚ŒãŸã¨ã"}],
         [0], "ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£", "3", 9, "è¨­å®šå¾Œã®ç›£è¦–", "didSet"),
        
        ("å‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆstaticï¼‰ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"static var count = 0"},{"id":"B","text":"class var count = 0"},{"id":"C","text":"shared var count = 0"},{"id":"D","text":"global var count = 0"}],
         [0], "ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£", "2", 8, "å‹ãƒ¬ãƒ™ãƒ«ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£", "static property"),
        
        ("lazyãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"æœ€åˆã®ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã«åˆæœŸåŒ–"},{"id":"B","text":"å³åº§ã«åˆæœŸåŒ–"},{"id":"C","text":"è¤‡æ•°å›åˆæœŸåŒ–"},{"id":"D","text":"åˆæœŸåŒ–ä¸è¦"}],
         [0], "ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£", "3", 9, "é…å»¶åˆæœŸåŒ–", "lazy"),
    ]
    
    questions.extend(classes_structs)
    print(f"  âœ“ ã‚¯ãƒ©ã‚¹ãƒ»æ§‹é€ ä½“: {len(classes_structs)}å•")
    
    # ==================== ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ»æ‹¡å¼µï¼ˆ10å•ï¼‰ ====================
    print("[2/4] ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ»æ‹¡å¼µã‚’ç”Ÿæˆä¸­...")
    
    protocols_extensions = [
        ("ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"protocol Drawable { func draw() }"},{"id":"B","text":"interface Drawable { func draw() }"},{"id":"C","text":"abstract protocol Drawable { func draw() }"},{"id":"D","text":"trait Drawable { func draw() }"}],
         [0], "ãƒ—ãƒ­ãƒˆã‚³ãƒ«", "2", 8, "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©", "protocol"),
        
        ("ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®æº–æ‹ ã¯ï¼Ÿ",
         [{"id":"A","text":"class Circle: Drawable { ... }"},{"id":"B","text":"class Circle extends Drawable { ... }"},{"id":"C","text":"class Circle implements Drawable { ... }"},{"id":"D","text":"class Circle adopts Drawable { ... }"}],
         [0], "ãƒ—ãƒ­ãƒˆã‚³ãƒ«", "2", 7, "ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å®Ÿè£…", "conformance"),
        
        ("ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ç¶™æ‰¿ã¯ï¼Ÿ",
         [{"id":"A","text":"protocol Printable: Drawable { ... }"},{"id":"B","text":"protocol Printable extends Drawable { ... }"},{"id":"C","text":"protocol Printable implements Drawable { ... }"},{"id":"D","text":"protocol Printable(Drawable) { ... }"}],
         [0], "ãƒ—ãƒ­ãƒˆã‚³ãƒ«", "3", 9, "ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®æ‹¡å¼µ", "protocol inheritance"),
        
        ("ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…ã¯ï¼Ÿ",
         [{"id":"A","text":"extensionã§ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…"},{"id":"B","text":"protocolãƒ–ãƒ­ãƒƒã‚¯å†…ã«å®Ÿè£…"},{"id":"C","text":"default ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰"},{"id":"D","text":"å®Ÿè£…ä¸å¯"}],
         [0], "ãƒ—ãƒ­ãƒˆã‚³ãƒ«", "3", 10, "æ—¢å®šã®å‹•ä½œ", "default implementation"),
        
        ("æ‹¡å¼µã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"extension String { func reversed() -> String { ... } }"},{"id":"B","text":"extend String { func reversed() { ... } }"},{"id":"C","text":"String.extend { func reversed() { ... } }"},{"id":"D","text":"augment String { func reversed() { ... } }"}],
         [0], "æ‹¡å¼µ", "3", 9, "æ—¢å­˜å‹ã¸ã®æ©Ÿèƒ½è¿½åŠ ", "extension"),
        
        ("æ‹¡å¼µã§ãƒ—ãƒ­ãƒˆã‚³ãƒ«æº–æ‹ ã‚’è¿½åŠ ã™ã‚‹ã«ã¯ï¼Ÿ",
         [{"id":"A","text":"extension String: Drawable { ... }"},{"id":"B","text":"String implements Drawable { ... }"},{"id":"C","text":"extend String with Drawable { ... }"},{"id":"D","text":"String conforms Drawable { ... }"}],
         [0], "æ‹¡å¼µ", "3", 10, "å¾Œä»˜ã‘ãƒ—ãƒ­ãƒˆã‚³ãƒ«", "retroactive conformance"),
        
        ("whereå¥ã§ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’åˆ¶ç´„ã™ã‚‹ã«ã¯ï¼Ÿ",
         [{"id":"A","text":"extension Array where Element: Equatable { ... }"},{"id":"B","text":"extension Array<Element: Equatable> { ... }"},{"id":"C","text":"extension Array if Element: Equatable { ... }"},{"id":"D","text":"extension Array(Element: Equatable) { ... }"}],
         [0], "ãƒ—ãƒ­ãƒˆã‚³ãƒ«", "4", 11, "æ¡ä»¶ä»˜ãæ‹¡å¼µ", "conditional extension"),
        
        ("associatedtypeã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ—ãƒ­ãƒˆã‚³ãƒ«å†…ã§é–¢é€£å‹ã‚’å®šç¾©"},{"id":"B","text":"å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’å®šç¾©"},{"id":"C","text":"ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹ã‚’å®šç¾©"},{"id":"D","text":"åˆ—æŒ™å‹ã‚’å®šç¾©"}],
         [0], "ãƒ—ãƒ­ãƒˆã‚³ãƒ«", "4", 12, "é–¢é€£å‹", "associatedtype"),
        
        ("Equatableãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"==ã¨!=æ¼”ç®—å­ã®å®Ÿè£…"},{"id":"B","text":"æ¯”è¼ƒæ¼”ç®—å­ã®å®Ÿè£…"},{"id":"C","text":"ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½"},{"id":"D","text":"æ–‡å­—åˆ—å¤‰æ›"}],
         [0], "ãƒ—ãƒ­ãƒˆã‚³ãƒ«", "2", 8, "ç­‰ä¾¡æ€§åˆ¤å®š", "Equatable"),
        
        ("Comparableãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"<, >, <=, >=æ¼”ç®—å­ã®å®Ÿè£…"},{"id":"B","text":"==æ¼”ç®—å­ã®ã¿"},{"id":"C","text":"ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½"},{"id":"D","text":"æ–‡å­—åˆ—å¤‰æ›"}],
         [0], "ãƒ—ãƒ­ãƒˆã‚³ãƒ«", "3", 9, "é †åºæ¯”è¼ƒ", "Comparable"),
    ]
    
    questions.extend(protocols_extensions)
    print(f"  âœ“ ãƒ—ãƒ­ãƒˆã‚³ãƒ«ãƒ»æ‹¡å¼µ: {len(protocols_extensions)}å•")
    
    # ==================== ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãƒ»åˆ—æŒ™å‹ï¼ˆ10å•ï¼‰ ====================
    print("[3/4] ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãƒ»åˆ—æŒ™å‹ã‚’ç”Ÿæˆä¸­...")
    
    generics_enums = [
        ("ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"func swap<T>(_ a: inout T, _ b: inout T) { ... }"},{"id":"B","text":"func swap(T)(a: inout T, b: inout T) { ... }"},{"id":"C","text":"func<T> swap(a: inout T, b: inout T) { ... }"},{"id":"D","text":"generic func swap<T>(a: T, b: T) { ... }"}],
         [0], "ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹", "3", 10, "å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿", "generic function"),
        
        ("ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"struct Stack<Element> { ... }"},{"id":"B","text":"struct Stack(Element) { ... }"},{"id":"C","text":"struct<Element> Stack { ... }"},{"id":"D","text":"generic struct Stack<Element> { ... }"}],
         [0], "ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹", "3", 9, "æ±ç”¨å‹", "generic type"),
        
        ("å‹åˆ¶ç´„ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"func findIndex<T: Equatable>(of value: T) { ... }"},{"id":"B","text":"func findIndex<T>(of value: T: Equatable) { ... }"},{"id":"C","text":"func findIndex<T extends Equatable>(of value: T) { ... }"},{"id":"D","text":"func findIndex(of value: T where T: Equatable) { ... }"}],
         [0], "ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹", "3", 10, "å‹ã®åˆ¶ç´„", "type constraint"),
        
        ("åˆ—æŒ™å‹ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"enum Direction { case north, south, east, west }"},{"id":"B","text":"enum Direction = north | south | east | west"},{"id":"C","text":"type Direction = north | south | east | west"},{"id":"D","text":"enumeration Direction { north, south, east, west }"}],
         [0], "åˆ—æŒ™å‹", "2", 7, "åˆ—æŒ™å€¤ã®å®šç¾©", "enum"),
        
        ("é–¢é€£å€¤ã‚’æŒã¤åˆ—æŒ™å‹ã¯ï¼Ÿ",
         [{"id":"A","text":"enum Barcode { case upc(Int, Int) }"},{"id":"B","text":"enum Barcode = upc(Int, Int)"},{"id":"C","text":"enum Barcode { upc: (Int, Int) }"},{"id":"D","text":"enum Barcode<Int, Int> { case upc }"}],
         [0], "åˆ—æŒ™å‹", "3", 10, "ä»˜åŠ ãƒ‡ãƒ¼ã‚¿", "associated values"),
        
        ("Rawå€¤ã‚’æŒã¤åˆ—æŒ™å‹ã¯ï¼Ÿ",
         [{"id":"A","text":"enum Planet: Int { case mercury = 1 }"},{"id":"B","text":"enum Planet { case mercury: 1 }"},{"id":"C","text":"enum Planet = { mercury: 1 }"},{"id":"D","text":"enum Planet(Int) { mercury = 1 }"}],
         [0], "åˆ—æŒ™å‹", "2", 8, "ç”Ÿã®å€¤", "raw values"),
        
        ("åˆ—æŒ™å‹ã®ãƒ¡ã‚½ãƒƒãƒ‰å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"enumå†…ã«funcã‚’å®šç¾©"},{"id":"B","text":"extensionã§ã®ã¿å®šç¾©å¯èƒ½"},{"id":"C","text":"ãƒ¡ã‚½ãƒƒãƒ‰å®šç¾©ä¸å¯"},{"id":"D","text":"protocolãŒå¿…è¦"}],
         [0], "åˆ—æŒ™å‹", "3", 9, "åˆ—æŒ™å‹ã®å‹•ä½œ", "enum methods"),
        
        ("å†å¸°çš„åˆ—æŒ™å‹ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"indirect enum Node { case value(Int, Node) }"},{"id":"B","text":"enum Node { case value(Int, Node) }"},{"id":"C","text":"recursive enum Node { case value(Int, Node) }"},{"id":"D","text":"enum Node(recursive) { case value(Int, Node) }"}],
         [0], "åˆ—æŒ™å‹", "4", 12, "è‡ªå·±å‚ç…§", "indirect enum"),
        
        ("CaseIterableãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"å…¨ã‚±ãƒ¼ã‚¹ã‚’åˆ—æŒ™å¯èƒ½ã«ã™ã‚‹"},{"id":"B","text":"ã‚±ãƒ¼ã‚¹ã‚’ã‚½ãƒ¼ãƒˆ"},{"id":"C","text":"ã‚±ãƒ¼ã‚¹ã‚’å¤‰æ›"},{"id":"D","text":"ã‚±ãƒ¼ã‚¹ã‚’å‰Šé™¤"}],
         [0], "åˆ—æŒ™å‹", "3", 10, "å…¨ã‚±ãƒ¼ã‚¹å–å¾—", "CaseIterable"),
        
        ("opaqueå‹ï¼ˆsomeï¼‰ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"å…·ä½“çš„ãªå‹ã‚’éš è”½ï¼ˆæˆ»ã‚Šå€¤ã®å‹ï¼‰"},{"id":"B","text":"ä»»æ„ã®å‹"},{"id":"C","text":"Optionalå‹"},{"id":"D","text":"ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹"}],
         [0], "ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹", "4", 12, "å‹ã®æŠ½è±¡åŒ–", "opaque type"),
    ]
    
    questions.extend(generics_enums)
    print(f"  âœ“ ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãƒ»åˆ—æŒ™å‹: {len(generics_enums)}å•")
    
    # ==================== ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ»ãƒ¡ãƒ¢ãƒªç®¡ç†ï¼ˆ10å•ï¼‰ ====================
    print("[4/4] ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ»ãƒ¡ãƒ¢ãƒªç®¡ç†ã‚’ç”Ÿæˆä¸­...")
    
    error_memory = [
        ("ã‚¨ãƒ©ãƒ¼å‹ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"enum FileError: Error { case notFound }"},{"id":"B","text":"class FileError: Error { ... }"},{"id":"C","text":"struct FileError: Error { ... }"},{"id":"D","text":"error FileError { notFound }"}],
         [0], "ã‚¨ãƒ©ãƒ¼å‡¦ç†", "3", 9, "ã‚¨ãƒ©ãƒ¼ã®å®šç¾©", "Error protocol"),
        
        ("throwsã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¨ãƒ©ãƒ¼ã‚’æŠ•ã’ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹é–¢æ•°"},{"id":"B","text":"ã‚¨ãƒ©ãƒ¼ã‚’æ•æ‰"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼ã‚’ãƒ­ã‚°å‡ºåŠ›"}],
         [0], "ã‚¨ãƒ©ãƒ¼å‡¦ç†", "2", 8, "ã‚¨ãƒ©ãƒ¼ä¼æ’­", "throws"),
        
        ("ã‚¨ãƒ©ãƒ¼ã®æŠ•ã’æ–¹ã¯ï¼Ÿ",
         [{"id":"A","text":"throw FileError.notFound"},{"id":"B","text":"raise FileError.notFound"},{"id":"C","text":"throw new FileError.notFound"},{"id":"D","text":"error(FileError.notFound)"}],
         [0], "ã‚¨ãƒ©ãƒ¼å‡¦ç†", "2", 7, "ã‚¨ãƒ©ãƒ¼é€å‡º", "throw"),
        
        ("do-catchæ–‡ã®åŸºæœ¬å½¢ã¯ï¼Ÿ",
         [{"id":"A","text":"do { try func() } catch { ... }"},{"id":"B","text":"try { func() } catch { ... }"},{"id":"C","text":"do { func() } rescue { ... }"},{"id":"D","text":"try { func() } except { ... }"}],
         [0], "ã‚¨ãƒ©ãƒ¼å‡¦ç†", "2", 8, "ã‚¨ãƒ©ãƒ¼æ•æ‰", "do-catch"),
        
        ("try?ã®åŠ¹æœã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¨ãƒ©ãƒ¼ã‚’Optionalã«å¤‰æ›"},{"id":"B","text":"ã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼ã‚’å¼·åˆ¶ã‚¢ãƒ³ãƒ©ãƒƒãƒ—"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼ã‚’ãƒ­ã‚°å‡ºåŠ›"}],
         [0], "ã‚¨ãƒ©ãƒ¼å‡¦ç†", "3", 9, "Optionalå¤‰æ›", "try?"),
        
        ("try!ã®åŠ¹æœã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸã‚‰ã‚¯ãƒ©ãƒƒã‚·ãƒ¥"},{"id":"B","text":"ã‚¨ãƒ©ãƒ¼ã‚’ç„¡è¦–"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼ã‚’Optionalã«å¤‰æ›"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼ã‚’ãƒ­ã‚°å‡ºåŠ›"}],
         [0], "ã‚¨ãƒ©ãƒ¼å‡¦ç†", "3", 9, "å¼·åˆ¶å®Ÿè¡Œ", "try!"),
        
        ("ARCã¨ã¯ï¼Ÿ",
         [{"id":"A","text":"è‡ªå‹•å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆï¼ˆãƒ¡ãƒ¢ãƒªç®¡ç†ï¼‰"},{"id":"B","text":"é…åˆ—æ“ä½œ"},{"id":"C","text":"éåŒæœŸå‡¦ç†"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼å‡¦ç†"}],
         [0], "ãƒ¡ãƒ¢ãƒªç®¡ç†", "3", 10, "è‡ªå‹•ãƒ¡ãƒ¢ãƒªç®¡ç†", "ARC"),
        
        ("å¼·å‚ç…§å¾ªç’°ã¨ã¯ï¼Ÿ",
         [{"id":"A","text":"ç›¸äº’å‚ç…§ã«ã‚ˆã‚‹ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯"},{"id":"B","text":"å¼·åˆ¶å‚ç…§"},{"id":"C","text":"å¾ªç’°é…åˆ—"},{"id":"D","text":"ç„¡é™ãƒ«ãƒ¼ãƒ—"}],
         [0], "ãƒ¡ãƒ¢ãƒªç®¡ç†", "4", 11, "å¾ªç’°å‚ç…§", "strong reference cycle"),
        
        ("weakã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"å¼±å‚ç…§ï¼ˆå‚ç…§ã‚«ã‚¦ãƒ³ãƒˆã‚’å¢—ã‚„ã•ãªã„ï¼‰"},{"id":"B","text":"å¼·å‚ç…§"},{"id":"C","text":"å¤‰æ•°ã‚’å¼±ãã™ã‚‹"},{"id":"D","text":"OptionalåŒ–"}],
         [0], "ãƒ¡ãƒ¢ãƒªç®¡ç†", "4", 11, "å¼±å‚ç…§", "weak"),
        
        ("unownedã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"éæ‰€æœ‰å‚ç…§ï¼ˆå¸¸ã«å€¤ãŒã‚ã‚‹å‰æï¼‰"},{"id":"B","text":"å¼±å‚ç…§"},{"id":"C","text":"å¼·å‚ç…§"},{"id":"D","text":"Optionalå‚ç…§"}],
         [0], "ãƒ¡ãƒ¢ãƒªç®¡ç†", "4", 12, "éæ‰€æœ‰å‚ç…§", "unowned"),
    ]
    
    questions.extend(error_memory)
    print(f"  âœ“ ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ»ãƒ¡ãƒ¢ãƒªç®¡ç†: {len(error_memory)}å•")
    
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æŒ¿å…¥
    print("\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ä¸­...")
    for q in questions:
        question_json = {
            "question": q[0],
            "options": q[1],
            "answer": q[2]
        }
        
        cursor.execute("""
            INSERT INTO questions 
            (language, question_json, category, difficulty, score, meaning, usage)
            VALUES (?, ?, ?, ?, ?, ?, ?)
        """, ("Swift", json.dumps(question_json, ensure_ascii=False), 
              q[3], q[4], q[5], q[6], q[7]))
    
    conn.commit()
    
    # çµ±è¨ˆè¡¨ç¤º
    cursor.execute("SELECT COUNT(*) FROM questions WHERE language = 'Swift'")
    swift_count = cursor.fetchone()[0]
    
    cursor.execute("""
        SELECT category, COUNT(*) as count 
        FROM questions 
        WHERE language = 'Swift' 
        GROUP BY category 
        ORDER BY count DESC
    """)
    categories = cursor.fetchall()
    
    cursor.execute("SELECT COUNT(*) FROM questions")
    total_count = cursor.fetchone()[0]
    
    # å„è¨€èªã®å•é¡Œæ•°ã‚’å–å¾—
    cursor.execute("""
        SELECT language, COUNT(*) as count 
        FROM questions 
        GROUP BY language 
        ORDER BY count DESC
    """)
    all_languages = cursor.fetchall()
    
    conn.close()
    
    print("\n" + "=" * 60)
    print("ğŸŠğŸŠğŸŠ Swift 80å•é”æˆï¼ï¼ï¼ ğŸŠğŸŠğŸŠ")
    print("=" * 60)
    print(f"Swiftå•é¡Œæ•°: 0å• â†’ {swift_count}å•ï¼ˆ+80å•ï¼‰")
    print(f"å…¨ä½“å•é¡Œæ•°: {total_count}å•")
    
    print("\nã€Swiftã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³ã€‘")
    for cat, count in categories:
        print(f"  {cat}: {count}å•")
    
    print("\n" + "=" * 60)
    print("ğŸ†ğŸ†ğŸ† Phase 6B å®Œå…¨é”æˆï¼ ğŸ†ğŸ†ğŸ†")
    print("=" * 60)
    print("\nã€Phase 6B æœ€çµ‚çŠ¶æ³ã€‘")
    print("  âœ… Rust: 80å•")
    print("  âœ… Kotlin: 80å•")
    print(f"  âœ… Swift: {swift_count}å•")
    
    print("\n" + "=" * 60)
    print("ğŸ‰ğŸ‰ğŸ‰ å…¨Phaseé”æˆçŠ¶æ³ ğŸ‰ğŸ‰ğŸ‰")
    print("=" * 60)
    print("\nã€å…¨è¨€èªä¸€è¦§ã€‘")
    for lang, count in all_languages:
        status = "âœ…" if count >= 50 else "âš ï¸"
        print(f"  {status} {lang}: {count}å•")
    
    print("\n" + "=" * 60)
    print(f"ğŸ“Š ç·å•é¡Œæ•°: {total_count}å•")
    
    if total_count >= 2000:
        print("ğŸŠğŸŠğŸŠ ç›®æ¨™2,000å•é”æˆï¼ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼ ğŸŠğŸŠğŸŠ")
    else:
        remaining = 2000 - total_count
        print(f"ğŸ¯ ç›®æ¨™2,000å•ã¾ã§æ®‹ã‚Š: {remaining}å•")
    
    print("\nã€SemanticGrove ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®Œæˆï¼ã€‘")
    print("ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å­¦ç¿’ã®åŒ…æ‹¬çš„ãªãƒªã‚½ãƒ¼ã‚¹ãŒå®Œæˆã—ã¾ã—ãŸã€‚")
    print("=" * 60)

if __name__ == "__main__":
    add_swift_40_questions_part2()