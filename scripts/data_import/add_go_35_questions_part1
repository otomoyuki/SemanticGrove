import sqlite3
import json

DB_NAME = "SemanticGrove.db"

def add_go_35_questions_part1():
    """Goå•é¡Œ35å•è¿½åŠ ï¼ˆç¬¬1å¼¾ï¼š11å•â†’46å•ï¼‰"""
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    
    print("=" * 60)
    print("Goå•é¡Œè¿½åŠ ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆç¬¬1å¼¾ï¼š35å•ï¼‰")
    print("=" * 60)
    
    questions = []
    
    # ==================== åŸºæœ¬æ–‡æ³•ï¼ˆ10å•ï¼‰ ====================
    print("[1/4] åŸºæœ¬æ–‡æ³•ã‚’ç”Ÿæˆä¸­...")
    
    basics = [
        ("Goè¨€èªã®å¤‰æ•°å®£è¨€ã®æ­£ã—ã„å½¢ã¯ï¼Ÿ",
         [{"id":"A","text":"var name string"},{"id":"B","text":"string name"},{"id":"C","text":"let name: string"},{"id":"D","text":"name: string"}],
         [0], "åŸºæœ¬æ–‡æ³•", "1", 5, "å¤‰æ•°å®£è¨€", "var"),
        
        ("çŸ­ç¸®å¤‰æ•°å®£è¨€ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"name := \"Go\""},{"id":"B","text":"var name = \"Go\""},{"id":"C","text":"let name = \"Go\""},{"id":"D","text":"const name = \"Go\""}],
         [0], "åŸºæœ¬æ–‡æ³•", "1", 5, "å‹æ¨è«–ã«ã‚ˆã‚‹å®£è¨€", ":="),
        
        ("å®šæ•°ã®å®£è¨€æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"const Pi = 3.14"},{"id":"B","text":"var Pi = 3.14"},{"id":"C","text":"let Pi = 3.14"},{"id":"D","text":"final Pi = 3.14"}],
         [0], "åŸºæœ¬æ–‡æ³•", "1", 5, "å®šæ•°å®šç¾©", "const"),
        
        ("è¤‡æ•°ã®å¤‰æ•°ã‚’åŒæ™‚ã«å®£è¨€ã™ã‚‹ã«ã¯ï¼Ÿ",
         [{"id":"A","text":"var x, y int"},{"id":"B","text":"var x int, y int"},{"id":"C","text":"int x, y"},{"id":"D","text":"var (x, y) int"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "è¤‡æ•°å¤‰æ•°å®£è¨€", "multiple declaration"),
        
        ("ã‚¼ãƒ­å€¤ï¼ˆzero valueï¼‰ã¨ã¯ï¼Ÿ",
         [{"id":"A","text":"å¤‰æ•°ã®åˆæœŸå€¤ï¼ˆint:0, bool:falseç­‰ï¼‰"},{"id":"B","text":"nilå€¤"},{"id":"C","text":"ç©ºæ–‡å­—åˆ—"},{"id":"D","text":"æœªå®šç¾©"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤", "zero value"),
        
        ("å‹å¤‰æ›ã®è¨˜è¿°æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"float64(x)"},{"id":"B","text":"(float64)x"},{"id":"C","text":"x as float64"},{"id":"D","text":"x.toFloat64()"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "ã‚­ãƒ£ã‚¹ãƒˆ", "type conversion"),
        
        ("Goã®åŸºæœ¬å‹ã§ãªã„ã‚‚ã®ã¯ï¼Ÿ",
         [{"id":"A","text":"char"},{"id":"B","text":"int"},{"id":"C","text":"float64"},{"id":"D","text":"bool"}],
         [0], "åŸºæœ¬æ–‡æ³•", "1", 5, "ãƒ‡ãƒ¼ã‚¿å‹ã®ç†è§£", "types"),
        
        ("runeã¯ä½•ã®åˆ¥åï¼Ÿ",
         [{"id":"A","text":"int32ï¼ˆUnicodeæ–‡å­—ï¼‰"},{"id":"B","text":"byte"},{"id":"C","text":"string"},{"id":"D","text":"char"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "æ–‡å­—å‹", "rune"),
        
        ("byteã¯ä½•ã®åˆ¥åï¼Ÿ",
         [{"id":"A","text":"uint8"},{"id":"B","text":"int8"},{"id":"C","text":"char"},{"id":"D","text":"rune"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "ãƒã‚¤ãƒˆå‹", "byte"),
        
        ("æœªä½¿ç”¨å¤‰æ•°ãŒã‚ã‚‹å ´åˆã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼"},{"id":"B","text":"è­¦å‘Šã®ã¿"},{"id":"C","text":"å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼"},{"id":"D","text":"å•é¡Œãªã—"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "å³æ ¼ãªãƒ«ãƒ¼ãƒ«", "unused variable"),
    ]
    
    questions.extend(basics)
    print(f"  âœ“ åŸºæœ¬æ–‡æ³•: {len(basics)}å•")
    
    # ==================== åˆ¶å¾¡æ§‹æ–‡ï¼ˆ10å•ï¼‰ ====================
    print("[2/4] åˆ¶å¾¡æ§‹æ–‡ã‚’ç”Ÿæˆä¸­...")
    
    controls = [
        ("foræ–‡ã®åŸºæœ¬å½¢ã¯ï¼Ÿ",
         [{"id":"A","text":"for i := 0; i < 10; i++ {}"},{"id":"B","text":"for (i := 0; i < 10; i++) {}"},{"id":"C","text":"for i in range(10) {}"},{"id":"D","text":"foreach i in 10 {}"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "1", 5, "ãƒ«ãƒ¼ãƒ—ã®åŸºæœ¬", "for"),
        
        ("ç„¡é™ãƒ«ãƒ¼ãƒ—ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"for {}"},{"id":"B","text":"while true {}"},{"id":"C","text":"loop {}"},{"id":"D","text":"for (;;) {}"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "2", 7, "ç„¡é™ç¹°ã‚Šè¿”ã—", "infinite loop"),
        
        ("rangeæ–‡ã®ä½¿ã„æ–¹ã¯ï¼Ÿ",
         [{"id":"A","text":"for i, v := range slice {}"},{"id":"B","text":"for i, v in slice {}"},{"id":"C","text":"foreach (i, v) in slice {}"},{"id":"D","text":"for slice as i => v {}"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "2", 7, "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³èµ°æŸ»", "range"),
        
        ("Goã«whileæ–‡ã¯å­˜åœ¨ã™ã‚‹ï¼Ÿ",
         [{"id":"A","text":"å­˜åœ¨ã—ãªã„ï¼ˆforã§ä»£ç”¨ï¼‰"},{"id":"B","text":"whileæ–‡ãŒã‚ã‚‹"},{"id":"C","text":"do-whileæ–‡ãŒã‚ã‚‹"},{"id":"D","text":"untilæ–‡ãŒã‚ã‚‹"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "2", 7, "ãƒ«ãƒ¼ãƒ—ã®ç¨®é¡", "while"),
        
        ("ifæ–‡ã§å¤‰æ•°ã‚’åˆæœŸåŒ–ã™ã‚‹ã«ã¯ï¼Ÿ",
         [{"id":"A","text":"if v := getValue(); v > 0 {}"},{"id":"B","text":"if (v := getValue()) > 0 {}"},{"id":"C","text":"v := getValue(); if v > 0 {}"},{"id":"D","text":"if getValue() as v > 0 {}"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "3", 9, "ã‚¹ã‚³ãƒ¼ãƒ—ä»˜ãæ¡ä»¶", "if with statement"),
        
        ("switchæ–‡ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ï¼Ÿ",
         [{"id":"A","text":"è‡ªå‹•çš„ã«breakã•ã‚Œã‚‹"},{"id":"B","text":"fallthroughãŒå¿…è¦"},{"id":"C","text":"breakãŒå¿…è¦"},{"id":"D","text":"continueãŒå¿…è¦"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "2", 8, "ãƒ•ã‚©ãƒ¼ãƒ«ã‚¹ãƒ«ãƒ¼ãªã—", "switch"),
        
        ("fallthroughã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"æ¬¡ã®caseã«å‡¦ç†ã‚’ç¶šã‘ã‚‹"},{"id":"B","text":"switchã‚’æŠœã‘ã‚‹"},{"id":"C","text":"ãƒ«ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹"},{"id":"D","text":"é–¢æ•°ã‚’æŠœã‘ã‚‹"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "3", 9, "æ„å›³çš„ãªç¶™ç¶š", "fallthrough"),
        
        ("å‹ã«ã‚ˆã‚‹switchæ–‡ã¯ï¼Ÿ",
         [{"id":"A","text":"switch v := x.(type) {}"},{"id":"B","text":"switch typeof(x) {}"},{"id":"C","text":"switch x.type {}"},{"id":"D","text":"typeswitch x {}"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "3", 10, "å‹åˆ¤å®š", "type switch"),
        
        ("deferæ–‡ã®å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ï¼Ÿ",
         [{"id":"A","text":"é–¢æ•°çµ‚äº†æ™‚"},{"id":"B","text":"å³åº§ã«å®Ÿè¡Œ"},{"id":"C","text":"ã‚¹ã‚³ãƒ¼ãƒ—çµ‚äº†æ™‚"},{"id":"D","text":"ãƒ—ãƒ­ã‚°ãƒ©ãƒ çµ‚äº†æ™‚"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "3", 9, "é…å»¶å®Ÿè¡Œ", "defer"),
        
        ("è¤‡æ•°ã®deferã®å®Ÿè¡Œé †ã¯ï¼Ÿ",
         [{"id":"A","text":"LIFOï¼ˆå¾Œå…¥ã‚Œå…ˆå‡ºã—ï¼‰"},{"id":"B","text":"FIFOï¼ˆå…ˆå…¥ã‚Œå…ˆå‡ºã—ï¼‰"},{"id":"C","text":"ãƒ©ãƒ³ãƒ€ãƒ "},{"id":"D","text":"å®£è¨€é †"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "3", 10, "ã‚¹ã‚¿ãƒƒã‚¯é †åº", "defer order"),
    ]
    
    questions.extend(controls)
    print(f"  âœ“ åˆ¶å¾¡æ§‹æ–‡: {len(controls)}å•")
    
    # ==================== é–¢æ•°ï¼ˆ10å•ï¼‰ ====================
    print("[3/4] é–¢æ•°ã‚’ç”Ÿæˆä¸­...")
    
    functions = [
        ("é–¢æ•°ã®åŸºæœ¬å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"func add(x int, y int) int {}"},{"id":"B","text":"function add(x, y int) int {}"},{"id":"C","text":"def add(x: int, y: int) -> int:"},{"id":"D","text":"int add(int x, int y) {}"}],
         [0], "é–¢æ•°", "1", 5, "é–¢æ•°å®£è¨€", "func"),
        
        ("åŒã˜å‹ã®å¼•æ•°ã‚’ã¾ã¨ã‚ã‚‹æ›¸ãæ–¹ã¯ï¼Ÿ",
         [{"id":"A","text":"func add(x, y int) int {}"},{"id":"B","text":"func add(x int, y) int {}"},{"id":"C","text":"func add(int x, y) int {}"},{"id":"D","text":"func add(x: int, y: int) int {}"}],
         [0], "é–¢æ•°", "2", 7, "å¼•æ•°ã®çœç•¥è¨˜æ³•", "parameter grouping"),
        
        ("è¤‡æ•°ã®æˆ»ã‚Šå€¤ã‚’è¿”ã™ã«ã¯ï¼Ÿ",
         [{"id":"A","text":"func divide(x, y int) (int, error) {}"},{"id":"B","text":"func divide(x, y int) int, error {}"},{"id":"C","text":"func divide(x, y int) (int | error) {}"},{"id":"D","text":"func divide(x, y int) [int, error] {}"}],
         [0], "é–¢æ•°", "2", 8, "å¤šå€¤è¿”å´", "multiple returns"),
        
        ("åå‰ä»˜ãæˆ»ã‚Šå€¤ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"func divide(x, y int) (result int, err error) {}"},{"id":"B","text":"func divide(x, y int) (int result, error err) {}"},{"id":"C","text":"func divide(x, y int) result int, err error {}"},{"id":"D","text":"func divide(x, y int) int as result, error as err {}"}],
         [0], "é–¢æ•°", "3", 9, "è¿”å´å€¤ã®å‘½å", "named returns"),
        
        ("å¯å¤‰é•·å¼•æ•°ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"func sum(nums ...int) int {}"},{"id":"B","text":"func sum(nums []int) int {}"},{"id":"C","text":"func sum(...nums int) int {}"},{"id":"D","text":"func sum(int... nums) int {}"}],
         [0], "é–¢æ•°", "2", 8, "ä»»æ„å€‹ã®å¼•æ•°", "variadic"),
        
        ("é–¢æ•°ã‚’å¤‰æ•°ã«ä»£å…¥ã™ã‚‹ã«ã¯ï¼Ÿ",
         [{"id":"A","text":"f := func(x int) int { return x * 2 }"},{"id":"B","text":"f = function(x int) int { return x * 2 }"},{"id":"C","text":"var f = (x int) => x * 2"},{"id":"D","text":"f := (x int) -> x * 2"}],
         [0], "é–¢æ•°", "2", 8, "ç„¡åé–¢æ•°", "function literal"),
        
        ("ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"å¤–éƒ¨å¤‰æ•°ã‚’å‚ç…§ã§ãã‚‹"},{"id":"B","text":"å¤–éƒ¨å¤‰æ•°ã‚’å‚ç…§ã§ããªã„"},{"id":"C","text":"ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã®ã¿å‚ç…§å¯"},{"id":"D","text":"å¼•æ•°ã®ã¿ä½¿ç”¨å¯"}],
         [0], "é–¢æ•°", "3", 10, "å¤‰æ•°ã®æ•æ‰", "closure"),
        
        ("ãƒ¡ã‚½ãƒƒãƒ‰ã®å®šç¾©æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"func (v Vertex) Abs() float64 {}"},{"id":"B","text":"func Vertex.Abs() float64 {}"},{"id":"C","text":"method Abs() float64 on Vertex {}"},{"id":"D","text":"Vertex::Abs() float64 {}"}],
         [0], "é–¢æ•°", "2", 8, "ãƒ¬ã‚·ãƒ¼ãƒä»˜ãé–¢æ•°", "method"),
        
        ("ãƒã‚¤ãƒ³ã‚¿ãƒ¬ã‚·ãƒ¼ãƒã®åˆ©ç‚¹ã¯ï¼Ÿ",
         [{"id":"A","text":"å€¤ã‚’å¤‰æ›´ã§ãã‚‹"},{"id":"B","text":"ã‚³ãƒ”ãƒ¼ãŒé€Ÿã„"},{"id":"C","text":"ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡å‰Šæ¸›"},{"id":"D","text":"ã™ã¹ã¦æ­£ã—ã„"}],
         [3], "é–¢æ•°", "3", 10, "å‚ç…§æ¸¡ã—", "pointer receiver"),
        
        ("initãƒ•ã‚¡ã‚¤ãƒ«ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åˆæœŸåŒ–æ™‚ã«è‡ªå‹•å®Ÿè¡Œ"},{"id":"B","text":"ãƒ¡ã‚¤ãƒ³é–¢æ•°ã®ä»£ã‚ã‚Š"},{"id":"C","text":"è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿"},{"id":"D","text":"ãƒ†ã‚¹ãƒˆç”¨é–¢æ•°"}],
         [0], "é–¢æ•°", "3", 10, "åˆæœŸåŒ–å‡¦ç†", "init"),
    ]
    
    questions.extend(functions)
    print(f"  âœ“ é–¢æ•°: {len(functions)}å•")
    
    # ==================== ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆ5å•ï¼‰ ====================
    print("[4/4] ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ç”Ÿæˆä¸­...")
    
    data_structures = [
        ("é…åˆ—ã®å®£è¨€æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"var arr [5]int"},{"id":"B","text":"var arr []int"},{"id":"C","text":"arr := array[5]int"},{"id":"D","text":"int[5] arr"}],
         [0], "ãƒ‡ãƒ¼ã‚¿æ§‹é€ ", "1", 5, "å›ºå®šé•·é…åˆ—", "array"),
        
        ("ã‚¹ãƒ©ã‚¤ã‚¹ã®ä½œæˆæ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"s := []int{1, 2, 3}"},{"id":"B","text":"s := [3]int{1, 2, 3}"},{"id":"C","text":"s := array(1, 2, 3)"},{"id":"D","text":"s := list[int]{1, 2, 3}"}],
         [0], "ãƒ‡ãƒ¼ã‚¿æ§‹é€ ", "2", 7, "å‹•çš„é…åˆ—", "slice"),
        
        ("makeã§ã‚¹ãƒ©ã‚¤ã‚¹ã‚’ä½œæˆã™ã‚‹ã«ã¯ï¼Ÿ",
         [{"id":"A","text":"s := make([]int, 5)"},{"id":"B","text":"s := make(int[], 5)"},{"id":"C","text":"s := new([]int, 5)"},{"id":"D","text":"s := slice[int](5)"}],
         [0], "ãƒ‡ãƒ¼ã‚¿æ§‹é€ ", "2", 8, "åˆæœŸåŒ–", "make"),
        
        ("mapã®å®£è¨€æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"m := make(map[string]int)"},{"id":"B","text":"m := map<string, int>{}"},{"id":"C","text":"m := new Map<string, int>"},{"id":"D","text":"m := dict[string]int{}"}],
         [0], "ãƒ‡ãƒ¼ã‚¿æ§‹é€ ", "2", 7, "é€£æƒ³é…åˆ—", "map"),
        
        ("æ§‹é€ ä½“ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"type Person struct { Name string }"},{"id":"B","text":"struct Person { Name string }"},{"id":"C","text":"class Person { Name string }"},{"id":"D","text":"type Person = { Name: string }"}],
         [0], "ãƒ‡ãƒ¼ã‚¿æ§‹é€ ", "2", 7, "è¤‡åˆå‹", "struct"),
    ]
    
    questions.extend(data_structures)
    print(f"  âœ“ ãƒ‡ãƒ¼ã‚¿æ§‹é€ : {len(data_structures)}å•")
    
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æŒ¿å…¥
    print("\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ä¸­...")
    for q in questions:
        question_json = {
            "question": q[0],
            "options": q[1],
            "answer": q[2]
        }
        
        cursor.execute("""
            INSERT INTO questions 
            (language, question_json, category, difficulty, score, meaning, usage)
            VALUES (?, ?, ?, ?, ?, ?, ?)
        """, ("Go", json.dumps(question_json, ensure_ascii=False), 
              q[3], q[4], q[5], q[6], q[7]))
    
    conn.commit()
    
    # çµ±è¨ˆè¡¨ç¤º
    cursor.execute("SELECT COUNT(*) FROM questions WHERE language = 'Go'")
    go_count = cursor.fetchone()[0]
    
    cursor.execute("SELECT COUNT(*) FROM questions")
    total_count = cursor.fetchone()[0]
    
    conn.close()
    
    print("\n" + "=" * 60)
    print(f"âœ… Go ç¬¬1å¼¾å®Œäº†: {go_count}å•")
    print("=" * 60)
    print(f"Goå•é¡Œæ•°: 11å• â†’ {go_count}å•ï¼ˆ+35å•ï¼‰")
    print(f"å…¨ä½“å•é¡Œæ•°: {total_count}å•")
    print("\nã€è¿½åŠ å†…å®¹ã€‘")
    print("  âœ“ åŸºæœ¬æ–‡æ³•: 10å•")
    print("  âœ“ åˆ¶å¾¡æ§‹æ–‡: 10å•")
    print("  âœ“ é–¢æ•°: 10å•")
    print("  âœ“ ãƒ‡ãƒ¼ã‚¿æ§‹é€ : 5å•")
    print("\nğŸ¯ æ¬¡å›: ç¬¬2å¼¾ã§æ®‹ã‚Š34å•è¿½åŠ  â†’ 80å•é”æˆ")
    print("=" * 60)

if __name__ == "__main__":
    add_go_35_questions_part1()