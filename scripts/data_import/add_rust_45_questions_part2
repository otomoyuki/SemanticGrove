import sqlite3
import json

DB_NAME = "SemanticGrove.db"

def add_rust_45_questions_part2():
    """Rustå•é¡Œ45å•è¿½åŠ ï¼ˆç¬¬2å¼¾ï¼š35å•â†’80å•ï¼‰"""
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    
    print("=" * 60)
    print("Rustå•é¡Œè¿½åŠ ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆç¬¬2å¼¾ï¼š45å•ï¼‰")
    print("=" * 60)
    
    questions = []
    
    # ==================== ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãƒ»ãƒˆãƒ¬ã‚¤ãƒˆï¼ˆ10å•ï¼‰ ====================
    print("[1/5] ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãƒ»ãƒˆãƒ¬ã‚¤ãƒˆã‚’ç”Ÿæˆä¸­...")
    
    generics_traits = [
        ("ã‚¸ã‚§ãƒãƒªãƒƒã‚¯é–¢æ•°ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"fn largest<T>(list: &[T]) -> &T {}"},{"id":"B","text":"fn largest(list: &[T]) -> &T {}"},{"id":"C","text":"fn<T> largest(list: &[T]) -> &T {}"},{"id":"D","text":"generic fn largest<T>(list: &[T]) -> &T {}"}],
         [0], "ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹", "3", 9, "å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿", "generic function"),
        
        ("ãƒˆãƒ¬ã‚¤ãƒˆã®å®šç¾©æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"trait Summary { fn summarize(&self) -> String; }"},{"id":"B","text":"interface Summary { fn summarize(&self) -> String; }"},{"id":"C","text":"abstract trait Summary {}"},{"id":"D","text":"protocol Summary { fn summarize(&self) -> String; }"}],
         [0], "ãƒˆãƒ¬ã‚¤ãƒˆ", "2", 8, "å…±é€šã®æŒ¯ã‚‹èˆã„", "trait"),
        
        ("ãƒˆãƒ¬ã‚¤ãƒˆã®å®Ÿè£…ã¯ï¼Ÿ",
         [{"id":"A","text":"impl Summary for Article {}"},{"id":"B","text":"Article implements Summary {}"},{"id":"C","text":"impl Article: Summary {}"},{"id":"D","text":"Article extends Summary {}"}],
         [0], "ãƒˆãƒ¬ã‚¤ãƒˆ", "2", 8, "ãƒˆãƒ¬ã‚¤ãƒˆã®é©ç”¨", "trait implementation"),
        
        ("ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"fn notify<T: Summary>(item: &T) {}"},{"id":"B","text":"fn notify<T>(item: &T: Summary) {}"},{"id":"C","text":"fn notify<T extends Summary>(item: &T) {}"},{"id":"D","text":"fn notify(item: &T where T: Summary) {}"}],
         [0], "ãƒˆãƒ¬ã‚¤ãƒˆ", "3", 10, "å‹åˆ¶ç´„", "trait bound"),
        
        ("whereå¥ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"è¤‡é›‘ãªãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œã‚’èª­ã¿ã‚„ã™ãè¨˜è¿°"},{"id":"B","text":"æ¡ä»¶åˆ†å²"},{"id":"C","text":"ãƒ«ãƒ¼ãƒ—å‡¦ç†"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼å‡¦ç†"}],
         [0], "ãƒˆãƒ¬ã‚¤ãƒˆ", "3", 10, "åˆ¶ç´„ã®æ˜ç¤º", "where clause"),
        
        ("ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®Ÿè£…ã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒˆãƒ¬ã‚¤ãƒˆå†…ã§ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…ã‚’æä¾›å¯èƒ½"},{"id":"B","text":"å¿…ãšå®Ÿè£…ãŒå¿…è¦"},{"id":"C","text":"å®Ÿè£…ä¸å¯"},{"id":"D","text":"æŠ½è±¡ãƒ¡ã‚½ãƒƒãƒ‰ã®ã¿"}],
         [0], "ãƒˆãƒ¬ã‚¤ãƒˆ", "3", 9, "æ—¢å®šã®å‹•ä½œ", "default implementation"),
        
        ("Box<T>ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ’ãƒ¼ãƒ—ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´"},{"id":"B","text":"ã‚¹ã‚¿ãƒƒã‚¯ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´"},{"id":"C","text":"ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤"},{"id":"D","text":"ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼"}],
         [0], "ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿", "3", 10, "ãƒ’ãƒ¼ãƒ—å‰²ã‚Šå½“ã¦", "Box"),
        
        ("Rc<T>ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆã«ã‚ˆã‚‹è¤‡æ•°æ‰€æœ‰"},{"id":"B","text":"å˜ä¸€æ‰€æœ‰"},{"id":"C","text":"ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ãªå…±æœ‰"},{"id":"D","text":"å¯å¤‰å…±æœ‰"}],
         [0], "ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿", "4", 12, "å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆ", "Rc"),
        
        ("RefCell<T>ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"å®Ÿè¡Œæ™‚ã«å€Ÿç”¨ãƒ«ãƒ¼ãƒ«ã‚’ãƒã‚§ãƒƒã‚¯"},{"id":"B","text":"ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ãƒã‚§ãƒƒã‚¯"},{"id":"C","text":"å‚ç…§ã‚«ã‚¦ãƒ³ãƒˆ"},{"id":"D","text":"ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•"}],
         [0], "ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿", "4", 12, "å†…éƒ¨å¯å¤‰æ€§", "RefCell"),
        
        ("Arc<T>ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ãªå‚ç…§ã‚«ã‚¦ãƒ³ãƒˆ"},{"id":"B","text":"å˜ä¸€ã‚¹ãƒ¬ãƒƒãƒ‰å°‚ç”¨"},{"id":"C","text":"å¯å¤‰å…±æœ‰"},{"id":"D","text":"æ‰€æœ‰æ¨©ç§»å‹•"}],
         [0], "ã‚¹ãƒãƒ¼ãƒˆãƒã‚¤ãƒ³ã‚¿", "4", 12, "ã‚¢ãƒˆãƒŸãƒƒã‚¯RC", "Arc"),
    ]
    
    questions.extend(generics_traits)
    print(f"  âœ“ ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãƒ»ãƒˆãƒ¬ã‚¤ãƒˆ: {len(generics_traits)}å•")
    
    # ==================== ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ï¼ˆ10å•ï¼‰ ====================
    print("[2/5] ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã‚’ç”Ÿæˆä¸­...")
    
    lifetimes = [
        ("ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ æ³¨é‡ˆã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"fn longest<'a>(x: &'a str, y: &'a str) -> &'a str {}"},{"id":"B","text":"fn longest<a>(x: &a str, y: &a str) -> &a str {}"},{"id":"C","text":"fn longest(x: &'a str, y: &'a str) -> &'a str {}"},{"id":"D","text":"fn longest@'a(x: &str, y: &str) -> &str {}"}],
         [0], "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ", "4", 12, "å‚ç…§ã®æœ‰åŠ¹æœŸé–“", "lifetime annotation"),
        
        ("ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®ç›®çš„ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ€ãƒ³ã‚°ãƒªãƒ³ã‚°å‚ç…§ã‚’é˜²ã"},{"id":"B","text":"ãƒ¡ãƒ¢ãƒªã‚’è§£æ”¾"},{"id":"C","text":"å‚ç…§ã‚’ã‚³ãƒ”ãƒ¼"},{"id":"D","text":"æ‰€æœ‰æ¨©ã‚’ç§»å‹•"}],
         [0], "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ", "3", 10, "å®‰å…¨æ€§ã®ä¿è¨¼", "lifetime purpose"),
        
        ("ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ çœç•¥è¦å‰‡ã®1ã¤ã¯ï¼Ÿ",
         [{"id":"A","text":"å„å‚ç…§å¼•æ•°ã«ç•°ãªã‚‹ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã‚’å‰²ã‚Šå½“ã¦"},{"id":"B","text":"ã™ã¹ã¦åŒã˜ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ "},{"id":"C","text":"ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ãªã—"},{"id":"D","text":"é™çš„ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ "}],
         [0], "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ", "4", 11, "æš—é»™ã®æ¨è«–", "lifetime elision"),
        
        ("'staticãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®æ„å‘³ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ—ãƒ­ã‚°ãƒ©ãƒ å…¨ä½“ã§æœ‰åŠ¹"},{"id":"B","text":"é–¢æ•°å†…ã®ã¿æœ‰åŠ¹"},{"id":"C","text":"ã‚¹ã‚³ãƒ¼ãƒ—å†…ã®ã¿"},{"id":"D","text":"1å›ã®ã¿æœ‰åŠ¹"}],
         [0], "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ", "3", 9, "é™çš„ãªå¯¿å‘½", "static lifetime"),
        
        ("æ§‹é€ ä½“ã®ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã¯ï¼Ÿ",
         [{"id":"A","text":"struct ImportantExcerpt<'a> { part: &'a str }"},{"id":"B","text":"struct ImportantExcerpt { part: &'a str }"},{"id":"C","text":"struct<'a> ImportantExcerpt { part: &str }"},{"id":"D","text":"struct ImportantExcerpt<a> { part: &str }"}],
         [0], "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ", "4", 11, "æ§‹é€ ä½“ã®å‚ç…§", "struct lifetime"),
        
        ("ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã§çœç•¥ã§ãã‚‹ã®ã¯ï¼Ÿ",
         [{"id":"A","text":"&selfã¨æˆ»ã‚Šå€¤ãŒåŒã˜ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ "},{"id":"B","text":"ã™ã¹ã¦ã®å‚ç…§"},{"id":"C","text":"å¼•æ•°ã®ã¿"},{"id":"D","text":"çœç•¥ä¸å¯"}],
         [0], "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ", "4", 11, "ãƒ¡ã‚½ãƒƒãƒ‰ã®æ¨è«–", "method lifetime"),
        
        ("è¤‡æ•°ã®ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®é–¢ä¿‚ã¯ï¼Ÿ",
         [{"id":"A","text":"'a: 'b ã¯'aãŒ'bä»¥ä¸Šé•·ãç”Ÿå­˜"},{"id":"B","text":"'aã¨'bã¯åŒã˜"},{"id":"C","text":"'aã¯'bã‚ˆã‚ŠçŸ­ã„"},{"id":"D","text":"ç„¡é–¢ä¿‚"}],
         [0], "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ", "5", 13, "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®å¢ƒç•Œ", "lifetime bounds"),
        
        ("ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã‚µãƒ–ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã¨ã¯ï¼Ÿ",
         [{"id":"A","text":"é•·ã„ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã‚’çŸ­ã„ã‚‚ã®ã¨ã—ã¦æ‰±ã†"},{"id":"B","text":"çŸ­ã„ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã‚’é•·ã"},{"id":"C","text":"ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®å‰Šé™¤"},{"id":"D","text":"ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®ã‚³ãƒ”ãƒ¼"}],
         [0], "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ", "5", 13, "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®äº’æ›æ€§", "lifetime subtyping"),
        
        ("Higher-Rank Trait Bounds(HRTB)ã¨ã¯ï¼Ÿ",
         [{"id":"A","text":"ä»»æ„ã®ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã«å¯¾ã™ã‚‹ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œ"},{"id":"B","text":"é™çš„ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®ã¿"},{"id":"C","text":"å›ºå®šãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ "},{"id":"D","text":"ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ãªã—"}],
         [0], "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ", "5", 15, "é«˜éšãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•Œ", "HRTB"),
        
        ("ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹åŸå› ã¯ï¼Ÿ",
         [{"id":"A","text":"å‚ç…§ãŒå‚ç…§å…ˆã‚ˆã‚Šé•·ãç”Ÿå­˜"},{"id":"B","text":"å‚ç…§ãŒçŸ­ã™ãã‚‹"},{"id":"C","text":"æ‰€æœ‰æ¨©ãŒãªã„"},{"id":"D","text":"å‹ãŒåˆã‚ãªã„"}],
         [0], "ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ", "3", 10, "å€Ÿç”¨ãƒã‚§ãƒƒã‚¯ã®å¤±æ•—", "lifetime error"),
    ]
    
    questions.extend(lifetimes)
    print(f"  âœ“ ãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ : {len(lifetimes)}å•")
    
    # ==================== ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãƒ»ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ï¼ˆ10å•ï¼‰ ====================
    print("[3/5] ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãƒ»ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ç”Ÿæˆä¸­...")
    
    closures_iterators = [
        ("ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®åŸºæœ¬è¨˜æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"|x| x + 1"},{"id":"B","text":"fn(x) { x + 1 }"},{"id":"C","text":"lambda x: x + 1"},{"id":"D","text":"(x) => x + 1"}],
         [0], "ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "2", 8, "ç„¡åé–¢æ•°", "closure"),
        
        ("ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒç’°å¢ƒã‚’æ•æ‰ã™ã‚‹æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"å€Ÿç”¨ã€å¯å¤‰å€Ÿç”¨ã€æ‰€æœ‰æ¨©ç§»å‹•ã®3ã¤"},{"id":"B","text":"ã‚³ãƒ”ãƒ¼ã®ã¿"},{"id":"C","text":"å‚ç…§ã®ã¿"},{"id":"D","text":"æ•æ‰ä¸å¯"}],
         [0], "ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "3", 10, "ç’°å¢ƒã®ã‚­ãƒ£ãƒ—ãƒãƒ£", "closure capture"),
        
        ("moveã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã«æ‰€æœ‰æ¨©ã‚’å¼·åˆ¶çš„ã«ç§»å‹•"},{"id":"B","text":"å€¤ã‚’ã‚³ãƒ”ãƒ¼"},{"id":"C","text":"å‚ç…§ã‚’ä½œæˆ"},{"id":"D","text":"å€¤ã‚’å‰Šé™¤"}],
         [0], "ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "3", 10, "æ‰€æœ‰æ¨©ã®ç§»å‹•", "move closure"),
        
        ("Fnãƒˆãƒ¬ã‚¤ãƒˆã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"ç’°å¢ƒã‚’ä¸å¤‰å€Ÿç”¨"},{"id":"B","text":"ç’°å¢ƒã‚’å¯å¤‰å€Ÿç”¨"},{"id":"C","text":"ç’°å¢ƒã‚’æ‰€æœ‰"},{"id":"D","text":"ç’°å¢ƒä¸è¦"}],
         [0], "ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "4", 11, "ä¸å¤‰ã‚­ãƒ£ãƒ—ãƒãƒ£", "Fn trait"),
        
        ("FnMutãƒˆãƒ¬ã‚¤ãƒˆã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"ç’°å¢ƒã‚’å¯å¤‰å€Ÿç”¨"},{"id":"B","text":"ç’°å¢ƒã‚’ä¸å¤‰å€Ÿç”¨"},{"id":"C","text":"ç’°å¢ƒã‚’æ‰€æœ‰"},{"id":"D","text":"ç’°å¢ƒä¸è¦"}],
         [0], "ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "4", 11, "å¯å¤‰ã‚­ãƒ£ãƒ—ãƒãƒ£", "FnMut trait"),
        
        ("FnOnceãƒˆãƒ¬ã‚¤ãƒˆã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"ç’°å¢ƒã®æ‰€æœ‰æ¨©ã‚’å–å¾—ï¼ˆ1å›ã®ã¿å‘¼ã³å‡ºã—å¯èƒ½ï¼‰"},{"id":"B","text":"ä½•åº¦ã§ã‚‚å‘¼ã³å‡ºã—å¯èƒ½"},{"id":"C","text":"ç’°å¢ƒã‚’å€Ÿç”¨"},{"id":"D","text":"ç’°å¢ƒä¸è¦"}],
         [0], "ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "4", 12, "æ‰€æœ‰æ¨©ã®æ¶ˆè²»", "FnOnce trait"),
        
        ("ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"Iteratorãƒˆãƒ¬ã‚¤ãƒˆã‚’å®Ÿè£…"},{"id":"B","text":"é…åˆ—ã®ã¿"},{"id":"C","text":"ãƒ™ã‚¯ã‚¿ã®ã¿"},{"id":"D","text":"ç‰¹åˆ¥ãªæ§‹æ–‡"}],
         [0], "ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿", "3", 9, "é †æ¬¡ã‚¢ã‚¯ã‚»ã‚¹", "iterator"),
        
        ("mapãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"å„è¦ç´ ã‚’å¤‰æ›"},{"id":"B","text":"è¦ç´ ã‚’ãƒ•ã‚£ãƒ«ã‚¿"},{"id":"C","text":"è¦ç´ ã‚’é›†ç´„"},{"id":"D","text":"è¦ç´ ã‚’å‰Šé™¤"}],
         [0], "ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿", "2", 8, "å†™åƒ", "map"),
        
        ("filterãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"æ¡ä»¶ã«åˆã†è¦ç´ ã®ã¿æŠ½å‡º"},{"id":"B","text":"è¦ç´ ã‚’å¤‰æ›"},{"id":"C","text":"è¦ç´ ã‚’é›†ç´„"},{"id":"D","text":"è¦ç´ ã‚’å‰Šé™¤"}],
         [0], "ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿", "2", 8, "çµã‚Šè¾¼ã¿", "filter"),
        
        ("collectãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«å¤‰æ›"},{"id":"B","text":"è¦ç´ ã‚’1ã¤ã«é›†ç´„"},{"id":"C","text":"è¦ç´ ã‚’å¤‰æ›"},{"id":"D","text":"è¦ç´ ã‚’ãƒ•ã‚£ãƒ«ã‚¿"}],
         [0], "ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿", "2", 8, "åé›†", "collect"),
    ]
    
    questions.extend(closures_iterators)
    print(f"  âœ“ ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãƒ»ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿: {len(closures_iterators)}å•")
    
    # ==================== ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ä¸¦è¡Œæ€§ï¼ˆ10å•ï¼‰ ====================
    print("[4/5] ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ä¸¦è¡Œæ€§ã‚’ç”Ÿæˆä¸­...")
    
    modules_concurrency = [
        ("ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"mod my_module { ... }"},{"id":"B","text":"module my_module { ... }"},{"id":"C","text":"namespace my_module { ... }"},{"id":"D","text":"package my_module { ... }"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "2", 7, "ã‚³ãƒ¼ãƒ‰ã®æ•´ç†", "mod"),
        
        ("useã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ‘ã‚¹ã‚’ã‚¹ã‚³ãƒ¼ãƒ—ã«æŒã¡è¾¼ã‚€"},{"id":"B","text":"å¤‰æ•°ã‚’ä½¿ç”¨"},{"id":"C","text":"é–¢æ•°ã‚’å®Ÿè¡Œ"},{"id":"D","text":"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å‰Šé™¤"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "2", 7, "ãƒ‘ã‚¹ã®çŸ­ç¸®", "use"),
        
        ("pubã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¢ã‚¤ãƒ†ãƒ ã‚’å…¬é–‹"},{"id":"B","text":"ã‚¢ã‚¤ãƒ†ãƒ ã‚’éå…¬é–‹"},{"id":"C","text":"ã‚¢ã‚¤ãƒ†ãƒ ã‚’å‰Šé™¤"},{"id":"D","text":"ã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚³ãƒ”ãƒ¼"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "2", 7, "å¯è¦–æ€§ã®åˆ¶å¾¡", "pub"),
        
        ("crateã¨ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å˜ä½ï¼ˆãƒã‚¤ãƒŠãƒªã¾ãŸã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰"},{"id":"B","text":"ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«"},{"id":"C","text":"ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸"},{"id":"D","text":"é–¢æ•°"}],
         [0], "ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«", "2", 8, "æœ€ä¸Šä½ã®åå‰ç©ºé–“", "crate"),
        
        ("thread::spawnã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"æ–°ã—ã„ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ç”Ÿæˆ"},{"id":"B","text":"ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’çµ‚äº†"},{"id":"C","text":"ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ä¸€æ™‚åœæ­¢"},{"id":"D","text":"ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’å‰Šé™¤"}],
         [0], "ä¸¦è¡Œæ€§", "3", 9, "ã‚¹ãƒ¬ãƒƒãƒ‰ç”Ÿæˆ", "spawn"),
        
        ("Mutex<T>ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"æ’ä»–åˆ¶å¾¡ï¼ˆ1ã‚¹ãƒ¬ãƒƒãƒ‰ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼‰"},{"id":"B","text":"è¤‡æ•°ã‚¹ãƒ¬ãƒƒãƒ‰ã§åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹"},{"id":"C","text":"ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ç”Ÿæˆ"},{"id":"D","text":"ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’çµ‚äº†"}],
         [0], "ä¸¦è¡Œæ€§", "3", 10, "ç›¸äº’æ’ä»–", "Mutex"),
        
        ("Sendãƒˆãƒ¬ã‚¤ãƒˆã®æ„å‘³ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¹ãƒ¬ãƒƒãƒ‰é–“ã§æ‰€æœ‰æ¨©ã‚’è»¢é€å¯èƒ½"},{"id":"B","text":"ã‚¹ãƒ¬ãƒƒãƒ‰é–“ã§å‚ç…§å¯èƒ½"},{"id":"C","text":"ã‚³ãƒ”ãƒ¼å¯èƒ½"},{"id":"D","text":"ã‚¯ãƒ­ãƒ¼ãƒ³å¯èƒ½"}],
         [0], "ä¸¦è¡Œæ€§", "4", 11, "ã‚¹ãƒ¬ãƒƒãƒ‰å®‰å…¨æ€§", "Send"),
        
        ("Syncãƒˆãƒ¬ã‚¤ãƒˆã®æ„å‘³ã¯ï¼Ÿ",
         [{"id":"A","text":"è¤‡æ•°ã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰å‚ç…§å¯èƒ½"},{"id":"B","text":"æ‰€æœ‰æ¨©ã‚’è»¢é€å¯èƒ½"},{"id":"C","text":"ã‚³ãƒ”ãƒ¼å¯èƒ½"},{"id":"D","text":"ã‚¯ãƒ­ãƒ¼ãƒ³å¯èƒ½"}],
         [0], "ä¸¦è¡Œæ€§", "4", 11, "å…±æœ‰å¯èƒ½æ€§", "Sync"),
        
        ("channelã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¹ãƒ¬ãƒƒãƒ‰é–“ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€å—ä¿¡"},{"id":"B","text":"æ’ä»–åˆ¶å¾¡"},{"id":"C","text":"ã‚¹ãƒ¬ãƒƒãƒ‰ç”Ÿæˆ"},{"id":"D","text":"ã‚¹ãƒ¬ãƒƒãƒ‰çµ‚äº†"}],
         [0], "ä¸¦è¡Œæ€§", "3", 10, "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ‘ãƒƒã‚·ãƒ³ã‚°", "channel"),
        
        ("mpsc::channelã®mpscã¨ã¯ï¼Ÿ",
         [{"id":"A","text":"Multiple Producer, Single Consumer"},{"id":"B","text":"Multiple Process, Single Core"},{"id":"C","text":"Main Program, Sub Component"},{"id":"D","text":"Memory Protected, Safe Channel"}],
         [0], "ä¸¦è¡Œæ€§", "4", 11, "ãƒãƒ«ãƒãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚µ", "mpsc"),
    ]
    
    questions.extend(modules_concurrency)
    print(f"  âœ“ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ»ä¸¦è¡Œæ€§: {len(modules_concurrency)}å•")
    
    # ==================== ãƒã‚¯ãƒ­ãƒ»unsafeï¼ˆ5å•ï¼‰ ====================
    print("[5/5] ãƒã‚¯ãƒ­ãƒ»unsafeã‚’ç”Ÿæˆä¸­...")
    
    macros_unsafe = [
        ("å®£è¨€çš„ãƒã‚¯ãƒ­ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"macro_rules! my_macro { ... }"},{"id":"B","text":"macro my_macro { ... }"},{"id":"C","text":"#define my_macro"},{"id":"D","text":"def_macro!(my_macro)"}],
         [0], "ãƒã‚¯ãƒ­", "4", 12, "ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°", "macro_rules"),
        
        ("æ‰‹ç¶šãçš„ãƒã‚¯ãƒ­ã®ç¨®é¡ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚«ã‚¹ã‚¿ãƒ deriveã€å±æ€§ãƒã‚¯ãƒ­ã€é–¢æ•°ãƒã‚¯ãƒ­"},{"id":"B","text":"å®£è¨€çš„ãƒã‚¯ãƒ­ã®ã¿"},{"id":"C","text":"ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ"},{"id":"D","text":"ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚é–¢æ•°"}],
         [0], "ãƒã‚¯ãƒ­", "5", 13, "ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ", "procedural macro"),
        
        ("unsafeã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"å®‰å…¨æ€§ãƒã‚§ãƒƒã‚¯ã‚’ç„¡åŠ¹åŒ–ï¼ˆç”Ÿãƒã‚¤ãƒ³ã‚¿ç­‰ï¼‰"},{"id":"B","text":"é«˜é€ŸåŒ–"},{"id":"C","text":"ã‚¨ãƒ©ãƒ¼ç„¡è¦–"},{"id":"D","text":"è­¦å‘Šã®æŠ‘åˆ¶"}],
         [0], "unsafe", "4", 12, "å®‰å…¨æ€§ã®è²¬ä»»", "unsafe"),
        
        ("unsafeã§ã§ãã‚‹ã“ã¨ã¯ï¼Ÿ",
         [{"id":"A","text":"ç”Ÿãƒã‚¤ãƒ³ã‚¿ã®å‚ç…§å¤–ã—ãƒ»unsafeé–¢æ•°å‘¼ã³å‡ºã—ç­‰"},{"id":"B","text":"ã™ã¹ã¦ã®åˆ¶ç´„ã‚’ç„¡è¦–"},{"id":"C","text":"ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã®ç„¡è¦–"},{"id":"D","text":"æ‰€æœ‰æ¨©ãƒ«ãƒ¼ãƒ«ã®ç„¡è¦–"}],
         [0], "unsafe", "4", 12, "å±é™ºãªæ“ä½œ", "unsafe operations"),
        
        ("FFIï¼ˆForeign Function Interfaceï¼‰ã¨ã¯ï¼Ÿ",
         [{"id":"A","text":"ä»–è¨€èªã®é–¢æ•°ã‚’å‘¼ã³å‡ºã™æ©Ÿèƒ½"},{"id":"B","text":"Rusté–¢æ•°ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"},{"id":"C","text":"ãƒã‚¯ãƒ­å®šç¾©"},{"id":"D","text":"ãƒˆãƒ¬ã‚¤ãƒˆå®šç¾©"}],
         [0], "unsafe", "4", 11, "è¨€èªé–“é€£æº", "FFI"),
    ]
    
    questions.extend(macros_unsafe)
    print(f"  âœ“ ãƒã‚¯ãƒ­ãƒ»unsafe: {len(macros_unsafe)}å•")
    
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æŒ¿å…¥
    print("\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ä¸­...")
    for q in questions:
        question_json = {
            "question": q[0],
            "options": q[1],
            "answer": q[2]
        }
        
        cursor.execute("""
            INSERT INTO questions 
            (language, question_json, category, difficulty, score, meaning, usage)
            VALUES (?, ?, ?, ?, ?, ?, ?)
        """, ("Rust", json.dumps(question_json, ensure_ascii=False), 
              q[3], q[4], q[5], q[6], q[7]))
    
    conn.commit()
    
    # çµ±è¨ˆè¡¨ç¤º
    cursor.execute("SELECT COUNT(*) FROM questions WHERE language = 'Rust'")
    rust_count = cursor.fetchone()[0]
    
    cursor.execute("""
        SELECT category, COUNT(*) as count 
        FROM questions 
        WHERE language = 'Rust' 
        GROUP BY category 
        ORDER BY count DESC
    """)
    categories = cursor.fetchall()
    
    cursor.execute("SELECT COUNT(*) FROM questions")
    total_count = cursor.fetchone()[0]
    
    conn.close()
    
    print("\n" + "=" * 60)
    print("ğŸŠğŸŠğŸŠ Rust 80å•é”æˆï¼ï¼ï¼ ğŸŠğŸŠğŸŠ")
    print("=" * 60)
    print(f"Rustå•é¡Œæ•°: 0å• â†’ {rust_count}å•ï¼ˆ+80å•ï¼‰")
    print(f"å…¨ä½“å•é¡Œæ•°: {total_count}å•")
    
    print("\nã€Rustã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³ã€‘")
    for cat, count in categories:
        print(f"  {cat}: {count}å•")
    
    print("\n" + "=" * 60)
    print("âœ…âœ…âœ… Phase 6B - Rustå®Œäº†ï¼ âœ…âœ…âœ…")
    print("\nã€Phase 6B é€²æ—ã€‘")
    print(f"  âœ… Rust: {rust_count}å• â† å®Œäº†ï¼")
    print("  ğŸ¯ Kotlin: 0å• â†’ 80å•ï¼ˆæ¬¡ã®ç›®æ¨™ï¼‰")
    print("  ğŸ¯ Swift: 0å• â†’ 80å•ï¼ˆæœ€å¾Œã®ç›®æ¨™ï¼‰")
    print(f"\n  ğŸ“Š ç·å•é¡Œæ•°: {total_count}å•")
    print(f"  ğŸ¯ ç›®æ¨™2,000å•ã¾ã§æ®‹ã‚Š: ç´„{2000 - total_count}å•")
    print("\nã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã€‘")
    print("  Kotlinã‚’è¿½åŠ ã—ã¦ã€ãƒ¢ãƒ€ãƒ³è¨€èªã®ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ—ã‚’å®Œæˆã•ã›ã¾ã—ã‚‡ã†ï¼")
    print("=" * 60)

if __name__ == "__main__":
    add_rust_45_questions_part2()