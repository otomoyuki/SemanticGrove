import sqlite3
import json

DB_NAME = "SemanticGrove.db"

def add_kotlin_40_questions_part2():
    """Kotlinå•é¡Œ40å•è¿½åŠ ï¼ˆç¬¬2å¼¾ï¼š40å•â†’80å•ï¼‰"""
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    
    print("=" * 60)
    print("Kotlinå•é¡Œè¿½åŠ ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆç¬¬2å¼¾ï¼š40å•ï¼‰")
    print("=" * 60)
    
    questions = []
    
    # ==================== ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ10å•ï¼‰ ====================
    print("[1/4] ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆä¸­...")
    
    collections = [
        ("ãƒªã‚¹ãƒˆã®ä½œæˆæ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"listOf(1, 2, 3)ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰"},{"id":"B","text":"list(1, 2, 3)"},{"id":"C","text":"[1, 2, 3]"},{"id":"D","text":"new List(1, 2, 3)"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 7, "ä¸å¤‰ãƒªã‚¹ãƒˆ", "listOf"),
        
        ("å¯å¤‰ãƒªã‚¹ãƒˆã®ä½œæˆã¯ï¼Ÿ",
         [{"id":"A","text":"mutableListOf(1, 2, 3)"},{"id":"B","text":"listOf(1, 2, 3)"},{"id":"C","text":"arrayListOf(1, 2, 3)ã®ã¿"},{"id":"D","text":"varListOf(1, 2, 3)"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 7, "å¤‰æ›´å¯èƒ½ãƒªã‚¹ãƒˆ", "mutableListOf"),
        
        ("ã‚»ãƒƒãƒˆã®ä½œæˆæ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"setOf(1, 2, 3)"},{"id":"B","text":"set(1, 2, 3)"},{"id":"C","text":"{1, 2, 3}"},{"id":"D","text":"new Set(1, 2, 3)"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 7, "é‡è¤‡ãªã—é›†åˆ", "setOf"),
        
        ("ãƒãƒƒãƒ—ã®ä½œæˆæ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"mapOf(\"a\" to 1, \"b\" to 2)"},{"id":"B","text":"map(\"a\" = 1, \"b\" = 2)"},{"id":"C","text":"{\"a\": 1, \"b\": 2}"},{"id":"D","text":"new Map(\"a\", 1, \"b\", 2)"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 7, "ã‚­ãƒ¼ãƒ»å€¤ã®ãƒšã‚¢", "mapOf"),
        
        ("filterãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"æ¡ä»¶ã«åˆã†è¦ç´ ã‚’æŠ½å‡º"},{"id":"B","text":"è¦ç´ ã‚’å¤‰æ›"},{"id":"C","text":"è¦ç´ ã‚’å‰Šé™¤"},{"id":"D","text":"è¦ç´ ã‚’ã‚½ãƒ¼ãƒˆ"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 8, "çµã‚Šè¾¼ã¿", "filter"),
        
        ("mapãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"å„è¦ç´ ã‚’å¤‰æ›"},{"id":"B","text":"æ¡ä»¶ã§çµã‚Šè¾¼ã¿"},{"id":"C","text":"è¦ç´ ã‚’å‰Šé™¤"},{"id":"D","text":"ãƒãƒƒãƒ—ã‚’ä½œæˆ"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 8, "å†™åƒ", "map"),
        
        ("flatMapã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"å¤‰æ›å¾Œã«å¹³å¦åŒ–ï¼ˆãƒã‚¹ãƒˆã‚’è§£æ¶ˆï¼‰"},{"id":"B","text":"mapã¨åŒã˜"},{"id":"C","text":"ãƒ•ã‚£ãƒ«ã‚¿å‡¦ç†"},{"id":"D","text":"ã‚½ãƒ¼ãƒˆå‡¦ç†"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "3", 10, "å¤‰æ›ã¨å¹³å¦åŒ–", "flatMap"),
        
        ("reduceãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"è¦ç´ ã‚’1ã¤ã®å€¤ã«é›†ç´„"},{"id":"B","text":"è¦ç´ ã‚’å¤‰æ›"},{"id":"C","text":"è¦ç´ ã‚’ãƒ•ã‚£ãƒ«ã‚¿"},{"id":"D","text":"è¦ç´ ã‚’ã‚½ãƒ¼ãƒˆ"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "3", 10, "ç•³ã¿è¾¼ã¿", "reduce"),
        
        ("foldãƒ¡ã‚½ãƒƒãƒ‰ã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"åˆæœŸå€¤ã‚’æŒ‡å®šã—ã¦é›†ç´„"},{"id":"B","text":"reduceã¨å®Œå…¨ã«åŒã˜"},{"id":"C","text":"è¦ç´ ã‚’å¤‰æ›"},{"id":"D","text":"è¦ç´ ã‚’ãƒ•ã‚£ãƒ«ã‚¿"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "3", 10, "åˆæœŸå€¤ä»˜ãç•³ã¿è¾¼ã¿", "fold"),
        
        ("groupByãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚­ãƒ¼ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–"},{"id":"B","text":"è¦ç´ ã‚’ã‚½ãƒ¼ãƒˆ"},{"id":"C","text":"è¦ç´ ã‚’ãƒ•ã‚£ãƒ«ã‚¿"},{"id":"D","text":"è¦ç´ ã‚’å¤‰æ›"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "3", 9, "åˆ†é¡", "groupBy"),
    ]
    
    questions.extend(collections)
    print(f"  âœ“ ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³: {len(collections)}å•")
    
    # ==================== æ‹¡å¼µé–¢æ•°ãƒ»ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆ10å•ï¼‰ ====================
    print("[2/4] æ‹¡å¼µé–¢æ•°ãƒ»ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç”Ÿæˆä¸­...")
    
    extensions = [
        ("æ‹¡å¼µé–¢æ•°ã®å®šç¾©æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"fun String.addExclamation() = this + \"!\""},{"id":"B","text":"extend String { fun addExclamation() }"},{"id":"C","text":"String.prototype.addExclamation = function() {}"},{"id":"D","text":"extension String { fun addExclamation() }"}],
         [0], "æ‹¡å¼µé–¢æ•°", "3", 9, "æ—¢å­˜ã‚¯ãƒ©ã‚¹ã¸ã®æ©Ÿèƒ½è¿½åŠ ", "extension function"),
        
        ("æ‹¡å¼µé–¢æ•°ã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"æ—¢å­˜ã‚¯ãƒ©ã‚¹ã‚’å¤‰æ›´ã›ãšãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ "},{"id":"B","text":"ã‚¯ãƒ©ã‚¹å®šç¾©ã‚’å¤‰æ›´"},{"id":"C","text":"ç¶™æ‰¿ãŒå¿…è¦"},{"id":"D","text":"privateãƒ¡ãƒ³ãƒãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½"}],
         [0], "æ‹¡å¼µé–¢æ•°", "3", 9, "éä¾µè¥²çš„ãªæ‹¡å¼µ", "extension feature"),
        
        ("æ‹¡å¼µãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"val String.firstChar get() = this[0]"},{"id":"B","text":"val String.firstChar = this[0]"},{"id":"C","text":"extend val String.firstChar"},{"id":"D","text":"property String.firstChar"}],
         [0], "æ‹¡å¼µãƒ—ãƒ­ãƒ‘ãƒ†ã‚£", "3", 10, "è¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®è¿½åŠ ", "extension property"),
        
        ("ä¸­ç½®é–¢æ•°ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"infix fun Int.add(other: Int) = this + other"},{"id":"B","text":"fun Int.add(other: Int) = this + other"},{"id":"C","text":"inline fun Int.add(other: Int)"},{"id":"D","text":"operator fun Int.add(other: Int)"}],
         [0], "æ‹¡å¼µé–¢æ•°", "3", 10, "ä¸­ç½®è¨˜æ³•", "infix"),
        
        ("ä¸­ç½®é–¢æ•°ã®å‘¼ã³å‡ºã—ã¯ï¼Ÿ",
         [{"id":"A","text":"1 add 2"},{"id":"B","text":"1.add(2)ã®ã¿"},{"id":"C","text":"add(1, 2)"},{"id":"D","text":"1->add(2)"}],
         [0], "æ‹¡å¼µé–¢æ•°", "3", 9, "æ¼”ç®—å­é¢¨ã®å‘¼ã³å‡ºã—", "infix call"),
        
        ("æ¼”ç®—å­ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"operator fun plus(other: Point) = ..."},{"id":"B","text":"fun operator plus(other: Point)"},{"id":"C","text":"override fun plus(other: Point)"},{"id":"D","text":"fun plus(other: Point) operator"}],
         [0], "æ¼”ç®—å­", "3", 10, "æ¼”ç®—å­ã®å†å®šç¾©", "operator overloading"),
        
        ("invokeã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’é–¢æ•°ã®ã‚ˆã†ã«å‘¼ã³å‡ºã—"},{"id":"B","text":"ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—"},{"id":"C","text":"ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿"},{"id":"D","text":"ãƒ‡ã‚¹ãƒˆãƒ©ã‚¯ã‚¿"}],
         [0], "æ¼”ç®—å­", "4", 11, "é–¢æ•°å‘¼ã³å‡ºã—æ¼”ç®—å­", "invoke"),
        
        ("getã¨setã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"[]æ¼”ç®—å­ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰"},{"id":"B","text":"ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¢ã‚¯ã‚»ã‚¹"},{"id":"C","text":"ãƒ¡ã‚½ãƒƒãƒ‰å®šç¾©"},{"id":"D","text":"ç¶™æ‰¿"}],
         [0], "æ¼”ç®—å­", "3", 10, "ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚¢ã‚¯ã‚»ã‚¹", "get/set operator"),
        
        ("containsã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"inæ¼”ç®—å­ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰"},{"id":"B","text":"è¦ç´ ã®è¿½åŠ "},{"id":"C","text":"è¦ç´ ã®å‰Šé™¤"},{"id":"D","text":"è¦ç´ ã®æ¤œç´¢"}],
         [0], "æ¼”ç®—å­", "3", 10, "åŒ…å«ãƒã‚§ãƒƒã‚¯", "contains"),
        
        ("rangeToã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"..æ¼”ç®—å­ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ­ãƒ¼ãƒ‰"},{"id":"B","text":"ç¯„å›²ãƒã‚§ãƒƒã‚¯"},{"id":"C","text":"é…åˆ—ä½œæˆ"},{"id":"D","text":"ãƒ«ãƒ¼ãƒ—å‡¦ç†"}],
         [0], "æ¼”ç®—å­", "4", 11, "ç¯„å›²ç”Ÿæˆ", "rangeTo"),
    ]
    
    questions.extend(extensions)
    print(f"  âœ“ æ‹¡å¼µé–¢æ•°ãƒ»ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£: {len(extensions)}å•")
    
    # ==================== ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãƒ»å‹ï¼ˆ10å•ï¼‰ ====================
    print("[3/4] ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãƒ»å‹ã‚’ç”Ÿæˆä¸­...")
    
    generics = [
        ("ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"class Box<T>(val value: T)"},{"id":"B","text":"class Box(val value: T)"},{"id":"C","text":"class<T> Box(val value: T)"},{"id":"D","text":"generic class Box<T>"}],
         [0], "ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹", "2", 8, "å‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿", "generic class"),
        
        ("å…±å¤‰æ€§ï¼ˆoutï¼‰ã®æ„å‘³ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚µãƒ–ã‚¿ã‚¤ãƒ—é–¢ä¿‚ã‚’ä¿æŒï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰"},{"id":"B","text":"æ›¸ãè¾¼ã¿å°‚ç”¨"},{"id":"C","text":"èª­ã¿æ›¸ãå¯èƒ½"},{"id":"D","text":"å‹å›ºå®š"}],
         [0], "ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹", "4", 12, "Producer", "covariance"),
        
        ("åå¤‰æ€§ï¼ˆinï¼‰ã®æ„å‘³ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚µãƒ–ã‚¿ã‚¤ãƒ—é–¢ä¿‚ã‚’é€†è»¢ï¼ˆæ›¸ãè¾¼ã¿å°‚ç”¨ï¼‰"},{"id":"B","text":"èª­ã¿å–ã‚Šå°‚ç”¨"},{"id":"C","text":"èª­ã¿æ›¸ãå¯èƒ½"},{"id":"D","text":"å‹å›ºå®š"}],
         [0], "ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹", "4", 12, "Consumer", "contravariance"),
        
        ("å‹æŠ•å½±ï¼ˆType Projectionï¼‰ã¨ã¯ï¼Ÿ",
         [{"id":"A","text":"ä½¿ç”¨ç®‡æ‰€ã§ã®å¤‰æ€§æŒ‡å®šï¼ˆout/inï¼‰"},{"id":"B","text":"å‹ã®å¤‰æ›"},{"id":"C","text":"å‹ã®å‰Šé™¤"},{"id":"D","text":"å‹ã®æ¨è«–"}],
         [0], "ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹", "4", 12, "ä½¿ç”¨å´ã®å¤‰æ€§", "type projection"),
        
        ("ã‚¹ã‚¿ãƒ¼æŠ•å½±ï¼ˆ*ï¼‰ã®æ„å‘³ã¯ï¼Ÿ",
         [{"id":"A","text":"å‹ãŒä¸æ˜ï¼ˆList<*>ï¼‰"},{"id":"B","text":"ã™ã¹ã¦ã®å‹"},{"id":"C","text":"å‹ãªã—"},{"id":"D","text":"ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰"}],
         [0], "ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹", "4", 11, "æœªçŸ¥ã®å‹", "star projection"),
        
        ("reifiedå‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"å®Ÿè¡Œæ™‚ã«å‹æƒ…å ±ã‚’ä¿æŒï¼ˆinlineé–¢æ•°ï¼‰"},{"id":"B","text":"å‹æ¶ˆå»ã•ã‚Œã‚‹"},{"id":"C","text":"ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®ã¿"},{"id":"D","text":"ä½¿ç”¨ä¸å¯"}],
         [0], "ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹", "4", 12, "å…·ä½“åŒ–ã•ã‚ŒãŸå‹", "reified"),
        
        ("å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"typealias StringList = List<String>"},{"id":"B","text":"type StringList = List<String>"},{"id":"C","text":"alias StringList = List<String>"},{"id":"D","text":"typedef StringList List<String>"}],
         [0], "å‹ã‚·ã‚¹ãƒ†ãƒ ", "3", 9, "å‹ã®åˆ¥å", "typealias"),
        
        ("Nothingå‹ã®æ„å‘³ã¯ï¼Ÿ",
         [{"id":"A","text":"æ±ºã—ã¦å€¤ã‚’è¿”ã•ãªã„ï¼ˆä¾‹å¤–ãªã©ï¼‰"},{"id":"B","text":"nullå‹"},{"id":"C","text":"ç©ºã®å‹"},{"id":"D","text":"ä»»æ„ã®å‹"}],
         [0], "å‹ã‚·ã‚¹ãƒ†ãƒ ", "4", 11, "ãƒœãƒˆãƒ å‹", "Nothing"),
        
        ("Unitå‹ã®æ„å‘³ã¯ï¼Ÿ",
         [{"id":"A","text":"æˆ»ã‚Šå€¤ãªã—ï¼ˆJavaã®voidç›¸å½“ï¼‰"},{"id":"B","text":"nullå‹"},{"id":"C","text":"æ•°å€¤ã®å˜ä½"},{"id":"D","text":"æ–‡å­—åˆ—å‹"}],
         [0], "å‹ã‚·ã‚¹ãƒ†ãƒ ", "2", 7, "å˜ä¸€ã®å€¤", "Unit"),
        
        ("Anyå‹ã®æ„å‘³ã¯ï¼Ÿ",
         [{"id":"A","text":"ã™ã¹ã¦ã®énullå‹ã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¿ã‚¤ãƒ—"},{"id":"B","text":"nullè¨±å®¹"},{"id":"C","text":"æ•°å€¤å‹ã®ã¿"},{"id":"D","text":"æ–‡å­—åˆ—å‹ã®ã¿"}],
         [0], "å‹ã‚·ã‚¹ãƒ†ãƒ ", "3", 9, "ãƒˆãƒƒãƒ—å‹", "Any"),
    ]
    
    questions.extend(generics)
    print(f"  âœ“ ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ãƒ»å‹: {len(generics)}å•")
    
    # ==================== ã‚³ãƒ«ãƒ¼ãƒãƒ³ãƒ»å§”è­²ï¼ˆ10å•ï¼‰ ====================
    print("[4/4] ã‚³ãƒ«ãƒ¼ãƒãƒ³ãƒ»å§”è­²ã‚’ç”Ÿæˆä¸­...")
    
    coroutines_delegation = [
        ("ã‚³ãƒ«ãƒ¼ãƒãƒ³ã®å®šç¾©æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"suspend fun loadData() {}"},{"id":"B","text":"async fun loadData() {}"},{"id":"C","text":"coroutine fun loadData() {}"},{"id":"D","text":"fun loadData() suspend {}"}],
         [0], "ã‚³ãƒ«ãƒ¼ãƒãƒ³", "3", 10, "ä¸­æ–­å¯èƒ½é–¢æ•°", "suspend"),
        
        ("ã‚³ãƒ«ãƒ¼ãƒãƒ³ã®èµ·å‹•æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"launch { ... } ã¾ãŸã¯ async { ... }"},{"id":"B","text":"start { ... }"},{"id":"C","text":"run { ... }"},{"id":"D","text":"execute { ... }"}],
         [0], "ã‚³ãƒ«ãƒ¼ãƒãƒ³", "3", 10, "ã‚³ãƒ«ãƒ¼ãƒãƒ³ãƒ“ãƒ«ãƒ€ãƒ¼", "launch/async"),
        
        ("launchã¨asyncã®é•ã„ã¯ï¼Ÿ",
         [{"id":"A","text":"asyncã¯çµæœã‚’è¿”ã™ï¼ˆDeferredï¼‰"},{"id":"B","text":"åŒã˜"},{"id":"C","text":"launchã¯çµæœã‚’è¿”ã™"},{"id":"D","text":"asyncã¯çµæœãªã—"}],
         [0], "ã‚³ãƒ«ãƒ¼ãƒãƒ³", "3", 10, "æˆ»ã‚Šå€¤ã®æœ‰ç„¡", "launch vs async"),
        
        ("withContextã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"åˆ¥ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§å®Ÿè¡Œ"},{"id":"B","text":"ã‚³ãƒ«ãƒ¼ãƒãƒ³ã‚’èµ·å‹•"},{"id":"C","text":"ã‚³ãƒ«ãƒ¼ãƒãƒ³ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼å‡¦ç†"}],
         [0], "ã‚³ãƒ«ãƒ¼ãƒãƒ³", "4", 11, "ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåˆ‡ã‚Šæ›¿ãˆ", "withContext"),
        
        ("Dispatchers.Mainã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§å®Ÿè¡Œï¼ˆUIæ›´æ–°ï¼‰"},{"id":"B","text":"ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¹ãƒ¬ãƒƒãƒ‰"},{"id":"C","text":"IOã‚¹ãƒ¬ãƒƒãƒ‰"},{"id":"D","text":"ä¸¦åˆ—å‡¦ç†"}],
         [0], "ã‚³ãƒ«ãƒ¼ãƒãƒ³", "3", 9, "UIãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒãƒ£", "Dispatchers.Main"),
        
        ("Dispatchers.IOã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"IOå‡¦ç†ç”¨ã‚¹ãƒ¬ãƒƒãƒ‰ãƒ—ãƒ¼ãƒ«"},{"id":"B","text":"ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰"},{"id":"C","text":"CPUé›†ç´„å‡¦ç†"},{"id":"D","text":"UIæ›´æ–°"}],
         [0], "ã‚³ãƒ«ãƒ¼ãƒãƒ³", "3", 9, "IOãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒãƒ£", "Dispatchers.IO"),
        
        ("ã‚¯ãƒ©ã‚¹å§”è­²ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"class Derived(b: Base) : Base by b"},{"id":"B","text":"class Derived extends Base"},{"id":"C","text":"class Derived implements Base"},{"id":"D","text":"class Derived delegates Base"}],
         [0], "å§”è­²", "3", 10, "å®Ÿè£…ã®å§”è­²", "class delegation"),
        
        ("ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å§”è­²ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"var value by Delegate()"},{"id":"B","text":"var value = Delegate()"},{"id":"C","text":"var value: Delegate"},{"id":"D","text":"delegate var value"}],
         [0], "å§”è­²", "3", 10, "ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å§”è­²", "property delegation"),
        
        ("lazyã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"é…å»¶åˆæœŸåŒ–"},{"id":"B","text":"å³åº§ã«åˆæœŸåŒ–"},{"id":"C","text":"è¤‡æ•°å›åˆæœŸåŒ–"},{"id":"D","text":"åˆæœŸåŒ–ä¸è¦"}],
         [0], "å§”è­²", "3", 9, "é…å»¶ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£", "lazy"),
        
        ("observableã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å¤‰æ›´ã‚’ç›£è¦–"},{"id":"B","text":"é…å»¶åˆæœŸåŒ–"},{"id":"C","text":"ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•"},{"id":"D","text":"ä¸å¤‰åŒ–"}],
         [0], "å§”è­²", "4", 11, "å¤‰æ›´ã®ç›£è¦–", "observable"),
    ]
    
    questions.extend(coroutines_delegation)
    print(f"  âœ“ ã‚³ãƒ«ãƒ¼ãƒãƒ³ãƒ»å§”è­²: {len(coroutines_delegation)}å•")
    
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æŒ¿å…¥
    print("\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ä¸­...")
    for q in questions:
        question_json = {
            "question": q[0],
            "options": q[1],
            "answer": q[2]
        }
        
        cursor.execute("""
            INSERT INTO questions 
            (language, question_json, category, difficulty, score, meaning, usage)
            VALUES (?, ?, ?, ?, ?, ?, ?)
        """, ("Kotlin", json.dumps(question_json, ensure_ascii=False), 
              q[3], q[4], q[5], q[6], q[7]))
    
    conn.commit()
    
    # çµ±è¨ˆè¡¨ç¤º
    cursor.execute("SELECT COUNT(*) FROM questions WHERE language = 'Kotlin'")
    kotlin_count = cursor.fetchone()[0]
    
    cursor.execute("""
        SELECT category, COUNT(*) as count 
        FROM questions 
        WHERE language = 'Kotlin' 
        GROUP BY category 
        ORDER BY count DESC
    """)
    categories = cursor.fetchall()
    
    cursor.execute("SELECT COUNT(*) FROM questions")
    total_count = cursor.fetchone()[0]
    
    conn.close()
    
    print("\n" + "=" * 60)
    print("ğŸŠğŸŠğŸŠ Kotlin 80å•é”æˆï¼ï¼ï¼ ğŸŠğŸŠğŸŠ")
    print("=" * 60)
    print(f"Kotlinå•é¡Œæ•°: 0å• â†’ {kotlin_count}å•ï¼ˆ+80å•ï¼‰")
    print(f"å…¨ä½“å•é¡Œæ•°: {total_count}å•")
    
    print("\nã€Kotlinã‚«ãƒ†ã‚´ãƒªåˆ¥å†…è¨³ã€‘")
    for cat, count in categories:
        print(f"  {cat}: {count}å•")
    
    print("\n" + "=" * 60)
    print("ğŸ‰ğŸ‰ğŸ‰ Phase 6B - ã‚ã¨1è¨€èªï¼ ğŸ‰ğŸ‰ğŸ‰")
    print("=" * 60)
    print("\nã€Phase 6B é€²æ—ã€‘")
    print("  âœ… Rust: 80å• â† å®Œäº†ï¼")
    print(f"  âœ… Kotlin: {kotlin_count}å• â† å®Œäº†ï¼")
    print("  ğŸ¯ Swift: 0å• â†’ 80å•ï¼ˆæœ€å¾Œã®è¨€èªï¼ï¼‰")
    print(f"\n  ğŸ“Š ç·å•é¡Œæ•°: {total_count}å•")
    print(f"  ğŸ¯ ç›®æ¨™2,000å•ã¾ã§æ®‹ã‚Š: ç´„{2000 - total_count}å•")
    print("\nã€å…¨ä½“é”æˆçŠ¶æ³ã€‘")
    print("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”")
    print("Phase 1: IQ(500)")
    print("Phase 2: Python(314), PHP(203), Java(150), C#(150)")
    print("Phase 3: JS(104), CSS(100), React(80), HTML(80)")
    print("Phase 4: TypeScript(80), Go(80), Ruby(80)")
    print("Phase 5: VBA(50), COBOL(50)")
    print(f"Phase 6B: Rust(80), Kotlin({kotlin_count})")
    print("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”")
    print("\næ¬¡ã¯Swiftã‚’è¿½åŠ ã—ã¦ã€Phase 6Bã‚’å®Œæˆã•ã›ã¾ã—ã‚‡ã†ï¼")
    print("=" * 60)

if __name__ == "__main__":
    add_kotlin_40_questions_part2()