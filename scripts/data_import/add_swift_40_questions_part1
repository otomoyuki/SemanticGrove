import sqlite3
import json

DB_NAME = "SemanticGrove.db"

def add_swift_40_questions_part1():
    """Swiftå•é¡Œ40å•è¿½åŠ ï¼ˆç¬¬1å¼¾ï¼š0å•â†’40å•ï¼‰"""
    conn = sqlite3.connect(DB_NAME)
    cursor = conn.cursor()
    
    print("=" * 60)
    print("Swiftå•é¡Œè¿½åŠ ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆç¬¬1å¼¾ï¼š40å•ï¼‰")
    print("=" * 60)
    
    questions = []
    
    # ==================== åŸºæœ¬æ–‡æ³•ï¼ˆ10å•ï¼‰ ====================
    print("[1/4] åŸºæœ¬æ–‡æ³•ã‚’ç”Ÿæˆä¸­...")
    
    basics = [
        ("Swiftã®å¤‰æ•°å®£è¨€ã§æ­£ã—ã„ã®ã¯ï¼Ÿ",
         [{"id":"A","text":"var x = 5ï¼ˆå¯å¤‰ï¼‰ã€let y = 10ï¼ˆä¸å¤‰ï¼‰"},{"id":"B","text":"let x = 5ï¼ˆå¯å¤‰ï¼‰ã€var y = 10ï¼ˆä¸å¤‰ï¼‰"},{"id":"C","text":"var x: Int = 5ã®ã¿"},{"id":"D","text":"let x: constant = 5"}],
         [0], "åŸºæœ¬æ–‡æ³•", "1", 5, "å¤‰æ•°å®£è¨€", "var/let"),
        
        ("letã¨varã®é•ã„ã¯ï¼Ÿ",
         [{"id":"A","text":"letã¯å®šæ•°ã€varã¯å¤‰æ•°"},{"id":"B","text":"letã¯å¤‰æ•°ã€varã¯å®šæ•°"},{"id":"C","text":"åŒã˜"},{"id":"D","text":"letã¯ãƒ­ãƒ¼ã‚«ãƒ«å°‚ç”¨"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "å¯å¤‰æ€§ã®åŒºåˆ¥", "let vs var"),
        
        ("å‹æ³¨é‡ˆã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"var name: String = \"Swift\""},{"id":"B","text":"var name as String = \"Swift\""},{"id":"C","text":"String var name = \"Swift\""},{"id":"D","text":"var name = String(\"Swift\")"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "å‹ã®æ˜ç¤º", "type annotation"),
        
        ("æ–‡å­—åˆ—è£œé–“ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"\"Hello \\(name)\""},{"id":"B","text":"\"Hello ${name}\""},{"id":"C","text":"\"Hello $name\""},{"id":"D","text":"f\"Hello {name}\""}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "æ–‡å­—åˆ—åŸ‹ã‚è¾¼ã¿", "string interpolation"),
        
        ("è¤‡æ•°è¡Œæ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã¯ï¼Ÿ",
         [{"id":"A","text":"\"\"\"è¤‡æ•°è¡Œ\\næ–‡å­—åˆ—\"\"\""},{"id":"B","text":"'''è¤‡æ•°è¡Œ\\næ–‡å­—åˆ—'''"},{"id":"C","text":"\"è¤‡æ•°è¡Œ\\næ–‡å­—åˆ—\""},{"id":"D","text":"`è¤‡æ•°è¡Œ\\næ–‡å­—åˆ—`"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "è¤‡æ•°è¡Œæ–‡å­—åˆ—", "multiline string"),
        
        ("ã‚¿ãƒ—ãƒ«ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"let person = (\"Alice\", 30)"},{"id":"B","text":"let person = [\"Alice\", 30]"},{"id":"C","text":"let person = {\"Alice\", 30}"},{"id":"D","text":"tuple person = (\"Alice\", 30)"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "è¤‡æ•°å€¤ã®çµ„", "tuple"),
        
        ("ã‚¿ãƒ—ãƒ«ã®è¦ç´ ã‚¢ã‚¯ã‚»ã‚¹ã¯ï¼Ÿ",
         [{"id":"A","text":"person.0 ã¾ãŸã¯ person.1"},{"id":"B","text":"person[0] ã¾ãŸã¯ person[1]"},{"id":"C","text":"person(0) ã¾ãŸã¯ person(1)"},{"id":"D","text":"person{0} ã¾ãŸã¯ person{1}"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "ã‚¿ãƒ—ãƒ«è¦ç´ å–å¾—", "tuple access"),
        
        ("åå‰ä»˜ãã‚¿ãƒ—ãƒ«ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"let person = (name: \"Alice\", age: 30)"},{"id":"B","text":"let person = [name: \"Alice\", age: 30]"},{"id":"C","text":"let person = {name: \"Alice\", age: 30}"},{"id":"D","text":"struct person = (name: \"Alice\", age: 30)"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 8, "ãƒ©ãƒ™ãƒ«ä»˜ãã‚¿ãƒ—ãƒ«", "named tuple"),
        
        ("ç¯„å›²æ¼”ç®—å­ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"1...5ï¼ˆ1ã‹ã‚‰5ã¾ã§ï¼‰"},{"id":"B","text":"1..5"},{"id":"C","text":"range(1, 5)"},{"id":"D","text":"1:5"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "é–‰åŒºé–“", "closed range"),
        
        ("åŠé–‹åŒºé–“æ¼”ç®—å­ã¯ï¼Ÿ",
         [{"id":"A","text":"1..<5ï¼ˆ1ã‹ã‚‰4ã¾ã§ï¼‰"},{"id":"B","text":"1..5"},{"id":"C","text":"1...4"},{"id":"D","text":"1:5"}],
         [0], "åŸºæœ¬æ–‡æ³•", "2", 7, "çµ‚ç«¯ã‚’å«ã¾ãªã„", "half-open range"),
    ]
    
    questions.extend(basics)
    print(f"  âœ“ åŸºæœ¬æ–‡æ³•: {len(basics)}å•")
    
    # ==================== Optionalãƒ»åˆ¶å¾¡æ§‹æ–‡ï¼ˆ10å•ï¼‰ ====================
    print("[2/4] Optionalãƒ»åˆ¶å¾¡æ§‹æ–‡ã‚’ç”Ÿæˆä¸­...")
    
    optionals_control = [
        ("Optionalã®å®£è¨€ã¯ï¼Ÿ",
         [{"id":"A","text":"var name: String?"},{"id":"B","text":"var name: Optional<String>"},{"id":"C","text":"var name: String | nil"},{"id":"D","text":"var name: Nullable<String>"}],
         [0], "Optional", "2", 8, "nilã®å¯èƒ½æ€§", "optional type"),
        
        ("Optional Bindingã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"if let name = optionalName { ... }"},{"id":"B","text":"if optionalName != nil { ... }"},{"id":"C","text":"if (name = optionalName) { ... }"},{"id":"D","text":"let name = optionalName ?? \"\""}],
         [0], "Optional", "2", 8, "å®‰å…¨ãªå–ã‚Šå‡ºã—", "optional binding"),
        
        ("å¼·åˆ¶ã‚¢ãƒ³ãƒ©ãƒƒãƒ—ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"name!"},{"id":"B","text":"name?"},{"id":"C","text":"name!!"},{"id":"D","text":"unwrap(name)"}],
         [0], "Optional", "2", 7, "nilã§ãªã„ã¨ä¿è¨¼", "force unwrap"),
        
        ("Nilåˆä½“æ¼”ç®—å­ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"name ?? \"Unknown\""},{"id":"B","text":"name ?: \"Unknown\""},{"id":"C","text":"name || \"Unknown\""},{"id":"D","text":"name default \"Unknown\""}],
         [0], "Optional", "2", 8, "nilã®æ—¢å®šå€¤", "nil coalescing"),
        
        ("Optional Chainingã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"person?.address?.street"},{"id":"B","text":"person!.address!.street"},{"id":"C","text":"person.address.street"},{"id":"D","text":"person->address->street"}],
         [0], "Optional", "3", 9, "é€£é–çš„ã‚¢ã‚¯ã‚»ã‚¹", "optional chaining"),
        
        ("guardæ–‡ã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"æ—©æœŸãƒªã‚¿ãƒ¼ãƒ³ï¼ˆæ¡ä»¶ä¸æˆç«‹ã§æŠœã‘ã‚‹ï¼‰"},{"id":"B","text":"ifã¨åŒã˜"},{"id":"C","text":"ãƒ«ãƒ¼ãƒ—åˆ¶å¾¡"},{"id":"D","text":"ä¾‹å¤–å‡¦ç†"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "3", 9, "æ—©æœŸè„±å‡º", "guard"),
        
        ("switchæ–‡ã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ãƒ»è‡ªå‹•breakã‚ã‚Š"},{"id":"B","text":"fallthroughãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ"},{"id":"C","text":"breakå¿…é ˆ"},{"id":"D","text":"defaultä¸è¦"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "2", 8, "ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°", "switch"),
        
        ("for-inæ–‡ã®åŸºæœ¬å½¢ã¯ï¼Ÿ",
         [{"id":"A","text":"for item in collection { ... }"},{"id":"B","text":"for (item in collection) { ... }"},{"id":"C","text":"for item of collection { ... }"},{"id":"D","text":"foreach item in collection { ... }"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "1", 5, "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³èµ°æŸ»", "for-in"),
        
        ("whereå¥ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"ãƒ«ãƒ¼ãƒ—ã‚„switchã§è¿½åŠ æ¡ä»¶ã‚’æŒ‡å®š"},{"id":"B","text":"å¤‰æ•°å®£è¨€"},{"id":"C","text":"å‹æŒ‡å®š"},{"id":"D","text":"é–¢æ•°å®šç¾©"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "3", 9, "æ¡ä»¶ãƒ•ã‚£ãƒ«ã‚¿", "where"),
        
        ("deferæ–‡ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŠœã‘ã‚‹ç›´å‰ã«å®Ÿè¡Œ"},{"id":"B","text":"é…å»¶åˆæœŸåŒ–"},{"id":"C","text":"éåŒæœŸå®Ÿè¡Œ"},{"id":"D","text":"ã‚¨ãƒ©ãƒ¼å‡¦ç†"}],
         [0], "åˆ¶å¾¡æ§‹æ–‡", "3", 9, "é…å»¶å®Ÿè¡Œ", "defer"),
    ]
    
    questions.extend(optionals_control)
    print(f"  âœ“ Optionalãƒ»åˆ¶å¾¡æ§‹æ–‡: {len(optionals_control)}å•")
    
    # ==================== é–¢æ•°ãƒ»ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ï¼ˆ10å•ï¼‰ ====================
    print("[3/4] é–¢æ•°ãƒ»ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’ç”Ÿæˆä¸­...")
    
    functions_closures = [
        ("é–¢æ•°ã®å®šç¾©æ–¹æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"func greet(name: String) -> String { ... }"},{"id":"B","text":"function greet(name: String): String { ... }"},{"id":"C","text":"def greet(name: String) -> String: ..."},{"id":"D","text":"fn greet(name: String) -> String { ... }"}],
         [0], "é–¢æ•°", "1", 5, "é–¢æ•°å®£è¨€", "func"),
        
        ("å¼•æ•°ãƒ©ãƒ™ãƒ«ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"func greet(to name: String) { ... }"},{"id":"B","text":"func greet(name as to: String) { ... }"},{"id":"C","text":"func greet(@to name: String) { ... }"},{"id":"D","text":"func greet(String name to) { ... }"}],
         [0], "é–¢æ•°", "3", 9, "å¤–éƒ¨åã¨å†…éƒ¨å", "argument label"),
        
        ("å¼•æ•°ãƒ©ãƒ™ãƒ«ã®çœç•¥ã¯ï¼Ÿ",
         [{"id":"A","text":"func greet(_ name: String) { ... }"},{"id":"B","text":"func greet(name: String) { ... }"},{"id":"C","text":"func greet(@_ name: String) { ... }"},{"id":"D","text":"func greet(- name: String) { ... }"}],
         [0], "é–¢æ•°", "2", 8, "ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢çœç•¥", "omit label"),
        
        ("ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¼•æ•°ã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"func greet(name: String = \"Guest\") { ... }"},{"id":"B","text":"func greet(name: String := \"Guest\") { ... }"},{"id":"C","text":"func greet(name: String | \"Guest\") { ... }"},{"id":"D","text":"func greet(name: String? = \"Guest\") { ... }"}],
         [0], "é–¢æ•°", "2", 7, "æ—¢å®šå€¤ã®è¨­å®š", "default parameter"),
        
        ("å¯å¤‰é•·å¼•æ•°ã®å®šç¾©ã¯ï¼Ÿ",
         [{"id":"A","text":"func sum(_ numbers: Int...) { ... }"},{"id":"B","text":"func sum(_ numbers: ...Int) { ... }"},{"id":"C","text":"func sum(_ numbers: [Int]) { ... }"},{"id":"D","text":"func sum(varargs numbers: Int) { ... }"}],
         [0], "é–¢æ•°", "2", 8, "ä»»æ„å€‹ã®å¼•æ•°", "variadic parameter"),
        
        ("inoutå¼•æ•°ã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"å‚ç…§æ¸¡ã—ï¼ˆå€¤ã‚’å¤‰æ›´å¯èƒ½ï¼‰"},{"id":"B","text":"å€¤æ¸¡ã—"},{"id":"C","text":"å…¥åŠ›å°‚ç”¨"},{"id":"D","text":"å‡ºåŠ›å°‚ç”¨"}],
         [0], "é–¢æ•°", "3", 9, "å‚ç…§æ¸¡ã—", "inout"),
        
        ("ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã®åŸºæœ¬è¨˜æ³•ã¯ï¼Ÿ",
         [{"id":"A","text":"{ (x: Int, y: Int) -> Int in return x + y }"},{"id":"B","text":"(x, y) => x + y"},{"id":"C","text":"lambda x, y: x + y"},{"id":"D","text":"fn(x, y) { x + y }"}],
         [0], "ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "2", 8, "ç„¡åé–¢æ•°", "closure"),
        
        ("ç°¡ç•¥åŒ–ã•ã‚ŒãŸã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã¯ï¼Ÿ",
         [{"id":"A","text":"{ $0 + $1 }"},{"id":"B","text":"{ x, y in x + y }"},{"id":"C","text":"{ return $0 + $1 }"},{"id":"D","text":"{ (x, y) -> x + y }"}],
         [0], "ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "3", 9, "æš—é»™ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿", "shorthand"),
        
        ("trailing closureã®è¨˜è¿°ã¯ï¼Ÿ",
         [{"id":"A","text":"func() { ... }ï¼ˆæœ€å¾Œã®å¼•æ•°ãŒã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ï¼‰"},{"id":"B","text":"func({ ... })"},{"id":"C","text":"func(closure: { ... })"},{"id":"D","text":"func() -> { ... }"}],
         [0], "ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "3", 9, "æœ«å°¾ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "trailing closure"),
        
        ("@escapingã®æ„å‘³ã¯ï¼Ÿ",
         [{"id":"A","text":"ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ãŒé–¢æ•°çµ‚äº†å¾Œã‚‚ä¿æŒã•ã‚Œã‚‹"},{"id":"B","text":"ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’å³åº§ã«å®Ÿè¡Œ"},{"id":"C","text":"ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ãªã„"},{"id":"D","text":"ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£ã‚’å‰Šé™¤"}],
         [0], "ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "4", 11, "ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£", "escaping"),
    ]
    
    questions.extend(functions_closures)
    print(f"  âœ“ é–¢æ•°ãƒ»ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£: {len(functions_closures)}å•")
    
    # ==================== ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ10å•ï¼‰ ====================
    print("[4/4] ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç”Ÿæˆä¸­...")
    
    collections = [
        ("é…åˆ—ã®å®£è¨€ã¯ï¼Ÿ",
         [{"id":"A","text":"var numbers = [1, 2, 3]"},{"id":"B","text":"var numbers = array(1, 2, 3)"},{"id":"C","text":"var numbers = (1, 2, 3)"},{"id":"D","text":"var numbers = {1, 2, 3}"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "1", 5, "é…åˆ—ã®ä½œæˆ", "array"),
        
        ("ç©ºã®é…åˆ—ã®å®£è¨€ã¯ï¼Ÿ",
         [{"id":"A","text":"var numbers: [Int] = []"},{"id":"B","text":"var numbers = []"},{"id":"C","text":"var numbers = Array()"},{"id":"D","text":"var numbers = new Array<Int>()"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 7, "å‹ä»˜ãç©ºé…åˆ—", "empty array"),
        
        ("ã‚»ãƒƒãƒˆã®ä½œæˆã¯ï¼Ÿ",
         [{"id":"A","text":"var set: Set<Int> = [1, 2, 3]"},{"id":"B","text":"var set = Set(1, 2, 3)"},{"id":"C","text":"var set = {1, 2, 3}"},{"id":"D","text":"var set = [1, 2, 3]"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 7, "é‡è¤‡ãªã—é›†åˆ", "set"),
        
        ("è¾æ›¸ã®ä½œæˆã¯ï¼Ÿ",
         [{"id":"A","text":"var dict = [\"key\": \"value\"]"},{"id":"B","text":"var dict = {\"key\": \"value\"}"},{"id":"C","text":"var dict = (\"key\": \"value\")"},{"id":"D","text":"var dict = Map(\"key\", \"value\")"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 7, "ã‚­ãƒ¼ãƒ»å€¤ã®ãƒšã‚¢", "dictionary"),
        
        ("mapãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"å„è¦ç´ ã‚’å¤‰æ›"},{"id":"B","text":"æ¡ä»¶ã§çµã‚Šè¾¼ã¿"},{"id":"C","text":"è¦ç´ ã‚’å‰Šé™¤"},{"id":"D","text":"è¾æ›¸ã‚’ä½œæˆ"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 8, "å†™åƒ", "map"),
        
        ("filterãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"æ¡ä»¶ã«åˆã†è¦ç´ ã‚’æŠ½å‡º"},{"id":"B","text":"è¦ç´ ã‚’å¤‰æ›"},{"id":"C","text":"è¦ç´ ã‚’å‰Šé™¤"},{"id":"D","text":"è¦ç´ ã‚’ã‚½ãƒ¼ãƒˆ"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 8, "çµã‚Šè¾¼ã¿", "filter"),
        
        ("reduceãƒ¡ã‚½ãƒƒãƒ‰ã®å½¹å‰²ã¯ï¼Ÿ",
         [{"id":"A","text":"è¦ç´ ã‚’1ã¤ã®å€¤ã«é›†ç´„"},{"id":"B","text":"è¦ç´ ã‚’å¤‰æ›"},{"id":"C","text":"è¦ç´ ã‚’ãƒ•ã‚£ãƒ«ã‚¿"},{"id":"D","text":"è¦ç´ ã‚’ã‚½ãƒ¼ãƒˆ"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "3", 10, "ç•³ã¿è¾¼ã¿", "reduce"),
        
        ("compactMapã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"nilã‚’é™¤å¤–ã—ãªãŒã‚‰å¤‰æ›"},{"id":"B","text":"mapã¨åŒã˜"},{"id":"C","text":"é…åˆ—ã‚’å¹³å¦åŒ–"},{"id":"D","text":"è¦ç´ ã‚’ãƒ•ã‚£ãƒ«ã‚¿"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "3", 10, "nilé™¤å»ãƒãƒƒãƒ—", "compactMap"),
        
        ("flatMapã®ç”¨é€”ã¯ï¼Ÿ",
         [{"id":"A","text":"å¤‰æ›å¾Œã«å¹³å¦åŒ–"},{"id":"B","text":"mapã¨åŒã˜"},{"id":"C","text":"nilã‚’é™¤å¤–"},{"id":"D","text":"è¦ç´ ã‚’ãƒ•ã‚£ãƒ«ã‚¿"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "3", 10, "å¹³å¦åŒ–ãƒãƒƒãƒ—", "flatMap"),
        
        ("sortedãƒ¡ã‚½ãƒƒãƒ‰ã®ç‰¹å¾´ã¯ï¼Ÿ",
         [{"id":"A","text":"æ–°ã—ã„ã‚½ãƒ¼ãƒˆæ¸ˆã¿é…åˆ—ã‚’è¿”ã™"},{"id":"B","text":"å…ƒã®é…åˆ—ã‚’å¤‰æ›´"},{"id":"C","text":"ã‚½ãƒ¼ãƒˆä¸å¯"},{"id":"D","text":"é™é †ã®ã¿"}],
         [0], "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³", "2", 7, "éç ´å£Šçš„ã‚½ãƒ¼ãƒˆ", "sorted"),
    ]
    
    questions.extend(collections)
    print(f"  âœ“ ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³: {len(collections)}å•")
    
    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æŒ¿å…¥
    print("\nãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ä¸­...")
    for q in questions:
        question_json = {
            "question": q[0],
            "options": q[1],
            "answer": q[2]
        }
        
        cursor.execute("""
            INSERT INTO questions 
            (language, question_json, category, difficulty, score, meaning, usage)
            VALUES (?, ?, ?, ?, ?, ?, ?)
        """, ("Swift", json.dumps(question_json, ensure_ascii=False), 
              q[3], q[4], q[5], q[6], q[7]))
    
    conn.commit()
    
    # çµ±è¨ˆè¡¨ç¤º
    cursor.execute("SELECT COUNT(*) FROM questions WHERE language = 'Swift'")
    swift_count = cursor.fetchone()[0]
    
    cursor.execute("SELECT COUNT(*) FROM questions")
    total_count = cursor.fetchone()[0]
    
    conn.close()
    
    print("\n" + "=" * 60)
    print(f"âœ… Swift ç¬¬1å¼¾å®Œäº†: {swift_count}å•")
    print("=" * 60)
    print(f"Swiftå•é¡Œæ•°: 0å• â†’ {swift_count}å•ï¼ˆ+40å•ï¼‰")
    print(f"å…¨ä½“å•é¡Œæ•°: {total_count}å•")
    print("\nã€è¿½åŠ å†…å®¹ã€‘")
    print("  âœ“ åŸºæœ¬æ–‡æ³•: 10å•")
    print("  âœ“ Optionalãƒ»åˆ¶å¾¡æ§‹æ–‡: 10å•")
    print("  âœ“ é–¢æ•°ãƒ»ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ£: 10å•")
    print("  âœ“ ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³: 10å•")
    print("\nğŸ¯ æ¬¡å›: ç¬¬2å¼¾ã§æ®‹ã‚Š40å•è¿½åŠ  â†’ 80å•é”æˆ")
    print("  ãã—ã¦2,000å•é”æˆã¸ï¼")
    print("=" * 60)

if __name__ == "__main__":
    add_swift_40_questions_part1()