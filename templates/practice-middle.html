<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>SemanticGrove - ä¸­ç´šãƒ¢ãƒ¼ãƒ‰</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <!-- ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ -->
  <header class="toolbar">   
    <nav class="toolbar-buttons">
      {% if current_user.is_authenticated %}
        <span class="user-info">
          {{ current_user.display_name }}ã•ã‚“
          <span class="sg-display">ğŸ’ <span id="sgBalance">0</span> SG</span>
        </span>
      {% endif %}
      
      <a href="/" class="toolbar-button">ãƒ›ãƒ¼ãƒ </a>
      <a href="/readme" class="toolbar-button">README</a>
      <a href="/learn" class="toolbar-button learn-mode-button">å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰</a>
      <a href="/practice/low" class="toolbar-button">åˆç´šãƒ¢ãƒ¼ãƒ‰</a>
      <a href="/practice/middle" class="toolbar-button">ä¸­ç´šãƒ¢ãƒ¼ãƒ‰</a>
      <a href="/practice/high" class="toolbar-button active">ä¸Šç´šãƒ¢ãƒ¼ãƒ‰</a>
      <a href="/games" class="toolbar-button game-button">ğŸ®ã‚²ãƒ¼ãƒ </a>
      <a href="/feedback" class="toolbar-button">ã”æ„è¦‹</a>
      
      {% if current_user.is_authenticated %}
        <a href="/logout" class="toolbar-button logout-button">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
      {% else %}
        <a href="/login" class="toolbar-button">ãƒ­ã‚°ã‚¤ãƒ³</a>
      {% endif %}
    </nav>
  </header>
  <header class="toolbar">   
    <nav class="toolbar-buttons">
      {% if current_user.is_authenticated %}
        <span class="user-info">
          {{ current_user.display_name }}ã•ã‚“
          <span class="sg-display">ğŸ’ <span id="sgBalance">0</span> SG</span>
        </span>
      {% endif %}
      
      <a href="/" class="toolbar-button">ãƒ›ãƒ¼ãƒ </a>
      <a href="/readme" class="toolbar-button">README</a>
      <a href="/learn" class="toolbar-button">å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰</a>
      <a href="/practice/low" class="toolbar-button">åˆç´šãƒ¢ãƒ¼ãƒ‰</a>
      <a href="/practice/middle" class="toolbar-button active">ä¸­ç´šãƒ¢ãƒ¼ãƒ‰</a>
      <a href="/practice/high" class="toolbar-button">ä¸Šç´šãƒ¢ãƒ¼ãƒ‰</a>
      <a href="/games" class="toolbar-button game-button">ğŸ®ã‚²ãƒ¼ãƒ </a>
      <a href="/feedback" class="toolbar-button">ã”æ„è¦‹</a>
      
      {% if current_user.is_authenticated %}
        <a href="/logout" class="toolbar-button logout-button">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
      {% else %}
        <a href="/login" class="toolbar-button">ãƒ­ã‚°ã‚¤ãƒ³</a>
      {% endif %}
    </nav>
  </header>
  
  <h1 class="logo-title">SemanticGrove</h1>
  <h2>ä¸­ç´šãƒ¢ãƒ¼ãƒ‰</h2>
  
  <!-- ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
  <div class="score-display" id="scoreDisplay" style="display: none;">
    <span>å•é¡Œ: <span id="currentQuestion">0</span> / <span id="totalQuestions">0</span></span>
    <span style="margin-left: 30px;">æ­£è§£: <span id="correctCount">0</span></span>
    <span style="margin-left: 30px;">æ­£ç­”ç‡: <span id="accuracyRate">0</span>%</span>
  </div>
  
  <!-- è¨€èªé¸æŠ -->
  <div class="language-select" id="setupArea">
    <label for="language">è¨€èªã‚’é¸æŠï¼š</label>
    <select id="language">
      <option value="Python">Python</option>
      <option value="PHP">PHP</option>
      <option value="C#">C#</option>
      <option value="Java">Java</option>
      <option value="JavaScript">JavaScript</option>
      <option value="CSS">CSS</option>
      <option value="Go">Go</option>
      <option value="HTML">HTML</option>
      <option value="Kotlin">Kotlin</option>
      <option value="React">React</option>
      <option value="Ruby">Ruby</option>
      <option value="Rust">Rust</option>
      <option value="Swift">Swift</option>
      <option value="TypeScript">TypeScript</option>
      <option value="COBOL">COBOL</option>
      <option value="VBA">VBA</option>
      <option value="IQ">IQå•é¡Œ</option>
      <option value="ã™ã¹ã¦">ã™ã¹ã¦</option>
    </select>
    
    <div class="start-button-area">
      <button onclick="startMiddleMode()">é–‹å§‹</button>
    </div>
  </div>
  
  <!-- å•é¡Œè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
  <div class="question-box" id="questionArea" style="display: none;">
    <h3 id="questionText">å•é¡Œæ–‡ãŒè¡¨ç¤ºã•ã‚Œã¾ã™</h3>
    <div class="choices" id="choicesArea">
      <!-- é¸æŠè‚¢ãŒJavaScriptã§å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
    </div>
  </div>
  
  <!-- ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¨è§£èª¬ã‚¨ãƒªã‚¢ -->
  <div class="feedback" id="feedbackArea" style="display: none;"></div>
  <div class="explanation-box" id="explanationArea" style="display: none;">
    <h3>è§£èª¬</h3>
    <p id="explanationText"></p>
    <h4>å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ</h4>
    <p id="learningPointText"></p>
  </div>
  
  <!-- æ¬¡ã¸ãƒœã‚¿ãƒ³ -->
  <div class="next-button-area" id="nextButtonArea" style="display: none;">
    <button onclick="goNextMiddle()">æ¬¡ã¸</button>
  </div>
  
  <!-- çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
  <div class="result-box" id="resultArea" style="display: none;">
    <h2>ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼</h2>
    <div class="result-stats">
      <p>ç·å•é¡Œæ•°: <span id="finalTotal">0</span>å•</p>
      <p>æ­£è§£æ•°: <span id="finalCorrect">0</span>å•</p>
      <p>ä¸æ­£è§£æ•°: <span id="finalIncorrect">0</span>å•</p>
      <p>æ­£ç­”ç‡: <span id="finalAccuracy">0</span>%</p>
      <p>ç²å¾—ç‚¹æ•°: <span id="finalScore">0</span>ç‚¹</p>
    </div>
    <div class="result-buttons">
      <button onclick="restartMiddle()">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
      <button onclick="location.href='/'">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</button>
    </div>
  </div>

  <script src="{{ url_for('static', filename='practice-middle.js') }}"></script>
</body>
</html>