<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SemanticField - æ„å‘³ã®å¹³åŸ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='field-top.css') }}">
</head>

<body>
<header class="toolbar">
  <nav class="toolbar-buttons">
    <!-- ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ï¼ˆæœ€åˆã¯éè¡¨ç¤ºï¼‰ -->
    <span class="user-info" id="userInfo" style="display: none;">
      <span id="userName"></span>ã•ã‚“
      <span class="sg-display">ğŸ’ <span id="sgBalance">0</span> SG</span>
    </span>
    
    <a href="/" class="toolbar-button">ãƒ›ãƒ¼ãƒ </a>
    <a href="/main" class="toolbar-button">ãƒ¡ã‚¤ãƒ³</a>
    <a href="/readme" class="toolbar-button">README</a>
    <a href="/learn" class="toolbar-button">å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰</a>
    <a href="/practice/low" class="toolbar-button">åˆç´šãƒ¢ãƒ¼ãƒ‰</a>
    <a href="/practice/middle" class="toolbar-button">ä¸­ç´šãƒ¢ãƒ¼ãƒ‰</a>
    <a href="/practice/high" class="toolbar-button">ä¸Šç´šãƒ¢ãƒ¼ãƒ‰</a>
    <a href="/games" class="toolbar-button game-button">ğŸ®ã‚²ãƒ¼ãƒ </a>
    <a href="/feedback" class="toolbar-button">ã”æ„è¦‹</a>
    
    <!-- èªè¨¼ãƒœã‚¿ãƒ³ -->
    <a href="/login" class="toolbar-button" id="loginBtn">ğŸ” ãƒ­ã‚°ã‚¤ãƒ³</a>
    <a href="/register" class="toolbar-button" id="registerBtn">âœ¨ æ–°è¦ç™»éŒ²</a>
    <a href="#" class="toolbar-button logout-button" id="logoutBtn" style="display: none;">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
  </nav>
</header>

<script>
// ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ç¢ºèª
document.addEventListener('DOMContentLoaded', function() {
  const token = localStorage.getItem('access_token');
  const user = JSON.parse(localStorage.getItem('user') || '{}');
  
  if (token && user.username) {
    // ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿
    document.getElementById('userInfo').style.display = 'inline';
    document.getElementById('userName').textContent = user.username;
    document.getElementById('sgBalance').textContent = user.sg_points || 0;
    document.getElementById('loginBtn').style.display = 'none';
    document.getElementById('registerBtn').style.display = 'none';
    document.getElementById('logoutBtn').style.display = 'inline-block';
  }
  
  // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
  document.getElementById('logoutBtn').addEventListener('click', function(e) {
    e.preventDefault();
    localStorage.clear();
    window.location.href = '/login?logout=success';
  });
});
</script>
    <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
    <h1 class="title">ğŸŒ¿ SemanticField æ„å‘³ã®å¹³åŸ</h1>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div class="field-container" id="fieldContainer">
        
        <!-- 2Dãƒãƒƒãƒ—ãƒ“ãƒ¥ãƒ¼ -->
        <div class="view view-2d active" id="view2d">
            <div class="area-row">
                <!-- SemanticGrove -->
                <a href="/main" class="area-card">
                    <div class="area-icon">ğŸŒ²</div>
                    <div class="area-name">SemanticGrove</div>
                    <div class="area-description">æ„å‘³ã®æ£®ã§å­¦ã¶</div>
                </a>
                
                <!-- ã‚²ãƒ¼ãƒ åºƒå ´ -->
                <a href="/games" class="area-card">
                    <div class="area-icon">ğŸ®</div>
                    <div class="area-name">ã‚²ãƒ¼ãƒ åºƒå ´</div>
                    <div class="area-description">éŠã³ãªãŒã‚‰å­¦ã¶</div>
                </a>
                
                <!-- è¨˜æ†¶ã®å·¨å¤§æ¨¹ -->
                <a href="/memory-tree" class="area-card coming-soon">
                    <div class="area-icon">ğŸŒ³</div>
                    <div class="area-name">è¨˜æ†¶ã®å·¨å¤§æ¨¹</div>
                    <div class="area-description">å‰µä½œã¨å…±æœ‰</div>
                    <div class="coming-badge">Coming Soon</div>
                </a>
            </div>
            
            <div class="area-row">
                <!-- ç«¶æç«œå ´ -->
                <a href="/dino-race" class="area-card coming-soon">
                    <div class="area-icon">ğŸ¦–</div>
                    <div class="area-name">ç«¶æç«œå ´</div>
                    <div class="area-description">æç«œãƒ¬ãƒ¼ã‚¹ãƒãƒˆãƒ«</div>
                    <div class="coming-badge">Coming Soon</div>
                </a>
                
                <!-- ãƒ¯ã‚¤ãƒ«ãƒ‰ãƒ©ã‚¤ãƒ• -->
                <a href="/wildlife" class="area-card coming-soon">
                    <div class="area-icon">ğŸ¦</div>
                    <div class="area-name">ãƒ¯ã‚¤ãƒ«ãƒ‰ãƒ©ã‚¤ãƒ•</div>
                    <div class="area-description">å‹•ç‰©ã®ä¸€ç”Ÿã‚’ä½“é¨“</div>
                    <div class="coming-badge">Coming Soon</div>
                </a>
                
                <!-- åº—èˆ—ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ -->
                <a href="/shop-sim" class="area-card coming-soon">
                    <div class="area-icon">ğŸª</div>
                    <div class="area-name">åº—èˆ—çµŒå–¶</div>
                    <div class="area-description">ãŠåº—ã‚’è‚²ã¦ã‚ˆã†</div>
                    <div class="coming-badge">Coming Soon</div>
                </a>
            </div>
        </div>

        <!-- 3Dé³¥ç°å›³ãƒ“ãƒ¥ãƒ¼ -->
        <div class="view view-3d" id="view3d">
            <!-- å¥¥ã®åˆ— -->
            <div class="area-row-3d area-far">
                <a href="/memory-tree" class="area-card coming-soon">
                    <div class="area-icon">ğŸŒ³</div>
                    <div class="area-name">è¨˜æ†¶ã®å·¨å¤§æ¨¹</div>
                    <div class="coming-badge">Coming Soon</div>
                </a>
                <a href="/wildlife" class="area-card coming-soon">
                    <div class="area-icon">ğŸ¦</div>
                    <div class="area-name">ãƒ¯ã‚¤ãƒ«ãƒ‰ãƒ©ã‚¤ãƒ•</div>
                    <div class="coming-badge">Coming Soon</div>
                </a>
            </div>
            
            <!-- ä¸­å¤®ã®åˆ— -->
            <div class="area-row-3d area-mid">
                <a href="/games" class="area-card">
                    <div class="area-icon">ğŸ®</div>
                    <div class="area-name">ã‚²ãƒ¼ãƒ åºƒå ´</div>
                </a>
                <a href="/shop-sim" class="area-card coming-soon">
                    <div class="area-icon">ğŸª</div>
                    <div class="area-name">åº—èˆ—çµŒå–¶</div>
                    <div class="coming-badge">Coming Soon</div>
                </a>
            </div>
            
            <!-- æ‰‹å‰ã®åˆ— -->
            <div class="area-row-3d area-near">
                <a href="/main" class="area-card">
                    <div class="area-icon">ğŸŒ²</div>
                    <div class="area-name">SemanticGrove</div>
                </a>
                <a href="/dino-race" class="area-card coming-soon">
                    <div class="area-icon">ğŸ¦–</div>
                    <div class="area-name">ç«¶æç«œå ´</div>
                    <div class="coming-badge">Coming Soon</div>
                </a>
            </div>
        </div>
    </div>

    <!-- åˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ï¼ˆç”»é¢ä¸‹éƒ¨ä¸­å¤®ï¼‰ -->
    <div class="view-toggle">
        <button class="toggle-btn" id="btn2d" onclick="switchTo2D()">ï¼œ</button>
        <span class="view-name" id="viewName">2Dãƒãƒƒãƒ—</span>
        <button class="toggle-btn" id="btn3d" onclick="switchTo3D()">ï¼</button>
    </div>

    <!-- ã‚¹ãƒ¯ã‚¤ãƒ—ãƒ’ãƒ³ãƒˆ -->
    <div class="swipe-hint" id="swipeHint">â† ã‚¹ãƒ¯ã‚¤ãƒ—ã§åˆ‡ã‚Šæ›¿ãˆ â†’</div>

    <script src="{{ url_for('static', filename='field-top.js') }}"></script>
</body>
</html>